/*! For license information please see index.js.LICENSE.txt */
(()=>{var e={602:(e,t,r)=>{e.exports=r(369)},978:(e,t,r)=>{"use strict";var n=r(669),o=r(476),a=r(991),i=r(485),c=r(605),s=r(211),u=r(773).http,l=r(773).https,p=r(835),f=r(761),d=r(71),m=r(742),h=r(220),y=/https:?/;function v(e,t,r){if(e.hostname=t.host,e.host=t.host,e.port=t.port,e.path=r,t.auth){var n=Buffer.from(t.auth.username+":"+t.auth.password,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+n}e.beforeRedirect=function(e){e.headers.host=e.host,v(e,t,e.href)}}e.exports=function(e){return new Promise((function(t,r){var g=function(e){t(e)},b=function(e){r(e)},w=e.data,x=e.headers;if(x["User-Agent"]||x["user-agent"]||(x["User-Agent"]="axios/"+d.version),w&&!n.isStream(w)){if(Buffer.isBuffer(w));else if(n.isArrayBuffer(w))w=Buffer.from(new Uint8Array(w));else{if(!n.isString(w))return b(m("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));w=Buffer.from(w,"utf-8")}x["Content-Length"]=w.length}var E=void 0;e.auth&&(E=(e.auth.username||"")+":"+(e.auth.password||""));var O=a(e.baseURL,e.url),k=p.parse(O),S=k.protocol||"http:";if(!E&&k.auth){var j=k.auth.split(":");E=(j[0]||"")+":"+(j[1]||"")}E&&delete x.Authorization;var T=y.test(S),R=T?e.httpsAgent:e.httpAgent,A={path:i(k.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:x,agent:R,agents:{http:e.httpAgent,https:e.httpsAgent},auth:E};e.socketPath?A.socketPath=e.socketPath:(A.hostname=k.hostname,A.port=k.port);var C,P=e.proxy;if(!P&&!1!==P){var I=S.slice(0,-1)+"_proxy",B=process.env[I]||process.env[I.toUpperCase()];if(B){var _=p.parse(B),N=process.env.no_proxy||process.env.NO_PROXY,q=!0;if(N&&(q=!N.split(",").map((function(e){return e.trim()})).some((function(e){return!!e&&("*"===e||"."===e[0]&&k.hostname.substr(k.hostname.length-e.length)===e||k.hostname===e)}))),q&&(P={host:_.hostname,port:_.port,protocol:_.protocol},_.auth)){var D=_.auth.split(":");P.auth={username:D[0],password:D[1]}}}}P&&(A.headers.host=k.hostname+(k.port?":"+k.port:""),v(A,P,S+"//"+k.hostname+(k.port?":"+k.port:"")+A.path));var L=T&&(!P||y.test(P.protocol));e.transport?C=e.transport:0===e.maxRedirects?C=L?s:c:(e.maxRedirects&&(A.maxRedirects=e.maxRedirects),C=L?l:u),e.maxBodyLength>-1&&(A.maxBodyLength=e.maxBodyLength);var U=C.request(A,(function(t){if(!U.aborted){var r=t,a=t.req||U;if(204!==t.statusCode&&"HEAD"!==a.method&&!1!==e.decompress)switch(t.headers["content-encoding"]){case"gzip":case"compress":case"deflate":r=r.pipe(f.createUnzip()),delete t.headers["content-encoding"]}var i={status:t.statusCode,statusText:t.statusMessage,headers:t.headers,config:e,request:a};if("stream"===e.responseType)i.data=r,o(g,b,i);else{var c=[];r.on("data",(function(t){c.push(t),e.maxContentLength>-1&&Buffer.concat(c).length>e.maxContentLength&&(r.destroy(),b(m("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,a)))})),r.on("error",(function(t){U.aborted||b(h(t,e,null,a))})),r.on("end",(function(){var t=Buffer.concat(c);"arraybuffer"!==e.responseType&&(t=t.toString(e.responseEncoding),e.responseEncoding&&"utf8"!==e.responseEncoding||(t=n.stripBOM(t))),i.data=t,o(g,b,i)}))}}}));U.on("error",(function(t){U.aborted&&"ERR_FR_TOO_MANY_REDIRECTS"!==t.code||b(h(t,e,null,U))})),e.timeout&&U.setTimeout(e.timeout,(function(){U.abort(),b(m("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",U))})),e.cancelToken&&e.cancelToken.promise.then((function(e){U.aborted||(U.abort(),b(e))})),n.isStream(w)?w.on("error",(function(t){b(h(t,e,null,U))})).pipe(U):U.end(w)}))}},967:(e,t,r)=>{"use strict";var n=r(669),o=r(476),a=r(381),i=r(485),c=r(991),s=r(556),u=r(530),l=r(742);e.exports=function(e){return new Promise((function(t,r){var p=e.data,f=e.headers;n.isFormData(p)&&delete f["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",h=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(m+":"+h)}var y=c(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),i(y,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,a={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:e,request:d};o(t,r,a),d=null}},d.onabort=function(){d&&(r(l("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){r(l("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(l(t,e,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var v=(e.withCredentials||u(y))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;v&&(f[e.xsrfHeaderName]=v)}if("setRequestHeader"in d&&n.forEach(f,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete f[t]:d.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),r(e),d=null)})),p||(p=null),d.send(p)}))}},369:(e,t,r)=>{"use strict";var n=r(669),o=r(430),a=r(113),i=r(802);function c(e){var t=new a(e),r=o(a.prototype.request,t);return n.extend(r,a.prototype,t),n.extend(r,t),r}var s=c(r(152));s.Axios=a,s.create=function(e){return c(i(s.defaults,e))},s.Cancel=r(875),s.CancelToken=r(364),s.isCancel=r(27),s.all=function(e){return Promise.all(e)},s.spread=r(9),s.isAxiosError=r(221),e.exports=s,e.exports.default=s},875:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},364:(e,t,r)=>{"use strict";var n=r(875);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},27:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},113:(e,t,r)=>{"use strict";var n=r(669),o=r(485),a=r(890),i=r(133),c=r(802);function s(e){this.defaults=e,this.interceptors={request:new a,response:new a}}s.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=c(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[i,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},s.prototype.getUri=function(e){return e=c(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){s.prototype[e]=function(t,r){return this.request(c(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){s.prototype[e]=function(t,r,n){return this.request(c(n||{},{method:e,url:t,data:r}))}})),e.exports=s},890:(e,t,r)=>{"use strict";var n=r(669);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},991:(e,t,r)=>{"use strict";var n=r(22),o=r(686);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},742:(e,t,r)=>{"use strict";var n=r(220);e.exports=function(e,t,r,o,a){var i=new Error(e);return n(i,t,r,o,a)}},133:(e,t,r)=>{"use strict";var n=r(669),o=r(143),a=r(27),i=r(152);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return c(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(c(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},220:e=>{"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},802:(e,t,r)=>{"use strict";var n=r(669);e.exports=function(e,t){t=t||{};var r={},o=["url","method","data"],a=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],c=["validateStatus"];function s(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function u(o){n.isUndefined(t[o])?n.isUndefined(e[o])||(r[o]=s(void 0,e[o])):r[o]=s(e[o],t[o])}n.forEach(o,(function(e){n.isUndefined(t[e])||(r[e]=s(void 0,t[e]))})),n.forEach(a,u),n.forEach(i,(function(o){n.isUndefined(t[o])?n.isUndefined(e[o])||(r[o]=s(void 0,e[o])):r[o]=s(void 0,t[o])})),n.forEach(c,(function(n){n in t?r[n]=s(e[n],t[n]):n in e&&(r[n]=s(void 0,e[n]))}));var l=o.concat(a).concat(i).concat(c),p=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return n.forEach(p,u),r}},476:(e,t,r)=>{"use strict";var n=r(742);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},143:(e,t,r)=>{"use strict";var n=r(669);e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},152:(e,t,r)=>{"use strict";var n=r(669),o=r(651),a={"Content-Type":"application/x-www-form-urlencoded"};function i(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,s={adapter:("undefined"!=typeof XMLHttpRequest?c=r(967):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(c=r(978)),c),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(i(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(i(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){s.headers[e]=n.merge(a)})),e.exports=s},430:e=>{"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},485:(e,t,r)=>{"use strict";var n=r(669);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var a;if(r)a=r(t);else if(n.isURLSearchParams(t))a=t.toString();else{var i=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),i.push(o(t)+"="+o(e))})))})),a=i.join("&")}if(a){var c=e.indexOf("#");-1!==c&&(e=e.slice(0,c)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},686:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},381:(e,t,r)=>{"use strict";var n=r(669);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,a,i){var c=[];c.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),n.isString(o)&&c.push("path="+o),n.isString(a)&&c.push("domain="+a),!0===i&&c.push("secure"),document.cookie=c.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},22:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},221:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},530:(e,t,r)=>{"use strict";var n=r(669);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},651:(e,t,r)=>{"use strict";var n=r(669);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},556:(e,t,r)=>{"use strict";var n=r(669),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,a,i={};return e?(n.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=n.trim(e.substr(0,a)).toLowerCase(),r=n.trim(e.substr(a+1)),t){if(i[t]&&o.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([r]):i[t]?i[t]+", "+r:r}})),i):i}},9:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},669:(e,t,r)=>{"use strict";var n=r(430),o=Object.prototype.toString;function a(e){return"[object Array]"===o.call(e)}function i(e){return void 0===e}function c(e){return null!==e&&"object"==typeof e}function s(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===o.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:s,isUndefined:i,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return c(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function r(r,n){s(t[n])&&s(r)?t[n]=e(t[n],r):s(r)?t[n]=e({},r):a(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)l(arguments[n],r);return t},extend:function(e,t,r){return l(t,(function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},71:e=>{"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.1","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test && bundlesize","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://github.com/axios/axios","devDependencies":{"bundlesize":"^0.17.0","coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.0.2","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^20.1.0","grunt-karma":"^2.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.2.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^5.2.0","sinon":"^4.5.0","typescript":"^2.8.1","url-search-params":"^0.10.0","webpack":"^1.13.1","webpack-dev-server":"^1.14.1"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.10.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},186:(e,t,r)=>{var n;e.exports=function(){if(!n)try{n=r(682)("follow-redirects")}catch(e){n=function(){}}n.apply(null,arguments)}},773:(e,t,r)=>{var n=r(835),o=n.URL,a=r(605),i=r(211),c=r(413).Writable,s=r(357),u=r(186),l=["abort","aborted","connect","error","socket","timeout"],p=Object.create(null);l.forEach((function(e){p[e]=function(t,r,n){this._redirectable.emit(e,t,r,n)}}));var f=x("ERR_FR_REDIRECTION_FAILURE",""),d=x("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),m=x("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),h=x("ERR_STREAM_WRITE_AFTER_END","write after end");function y(e,t){c.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var r=this;this._onNativeResponse=function(e){r._processResponse(e)},this._performRequest()}function v(e){var t={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(e).forEach((function(a){var i=a+":",c=r[i]=e[a],l=t[a]=Object.create(c);Object.defineProperties(l,{request:{value:function(e,a,c){if("string"==typeof e){var l=e;try{e=b(new o(l))}catch(t){e=n.parse(l)}}else o&&e instanceof o?e=b(e):(c=a,a=e,e={protocol:i});return"function"==typeof a&&(c=a,a=null),(a=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,a)).nativeProtocols=r,s.equal(a.protocol,i,"protocol mismatch"),u("options",a),new y(a,c)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,r){var n=l.request(e,t,r);return n.end(),n},configurable:!0,enumerable:!0,writable:!0}})})),t}function g(){}function b(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return""!==e.port&&(t.port=Number(e.port)),t}function w(e,t){var r;for(var n in t)e.test(n)&&(r=t[n],delete t[n]);return r}function x(e,t){function r(e){Error.captureStackTrace(this,this.constructor),this.message=e||t}return r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="Error ["+e+"]",r.prototype.code=e,r}function E(e){for(var t=0;t<l.length;t++)e.removeListener(l[t],p[l[t]]);e.on("error",g),e.abort()}y.prototype=Object.create(c.prototype),y.prototype.abort=function(){E(this._currentRequest),this.emit("abort")},y.prototype.write=function(e,t,r){if(this._ending)throw new h;if(!("string"==typeof e||"object"==typeof e&&"length"in e))throw new TypeError("data should be a string, Buffer or Uint8Array");"function"==typeof t&&(r=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new m),this.abort()):r&&r()},y.prototype.end=function(e,t,r){if("function"==typeof e?(r=e,e=t=null):"function"==typeof t&&(r=t,t=null),e){var n=this,o=this._currentRequest;this.write(e,t,(function(){n._ended=!0,o.end(null,null,r)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,r)},y.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},y.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},y.prototype.setTimeout=function(e,t){var r=this;function n(t){t.setTimeout(e),t.removeListener("timeout",t.destroy),t.addListener("timeout",t.destroy)}function o(t){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout((function(){r.emit("timeout"),a()}),e),n(t)}function a(){clearTimeout(this._timeout),t&&r.removeListener("timeout",t),this.socket||r._currentRequest.removeListener("socket",o)}return t&&this.on("timeout",t),this.socket?o(this.socket):this._currentRequest.once("socket",o),this.on("socket",n),this.once("response",a),this.once("error",a),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){y.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(y.prototype,e,{get:function(){return this._currentRequest[e]}})})),y.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},y.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var r=e.substr(0,e.length-1);this._options.agent=this._options.agents[r]}var o=this._currentRequest=t.request(this._options,this._onNativeResponse);this._currentUrl=n.format(this._options),o._redirectable=this;for(var a=0;a<l.length;a++)o.on(l[a],p[l[a]]);if(this._isRedirect){var i=0,c=this,s=this._requestBodyBuffers;!function e(t){if(o===c._currentRequest)if(t)c.emit("error",t);else if(i<s.length){var r=s[i++];o.finished||o.write(r.data,r.encoding,e)}else c._ended&&o.end()}()}}else this.emit("error",new TypeError("Unsupported protocol "+e))},y.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var r=e.headers.location;if(r&&!1!==this._options.followRedirects&&t>=300&&t<400){if(E(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new d);((301===t||302===t)&&"POST"===this._options.method||303===t&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],w(/^content-/i,this._options.headers));var o=w(/^host$/i,this._options.headers)||n.parse(this._currentUrl).hostname,a=n.resolve(this._currentUrl,r);u("redirecting to",a),this._isRedirect=!0;var i=n.parse(a);if(Object.assign(this._options,i),i.hostname!==o&&w(/^authorization$/i,this._options.headers),"function"==typeof this._options.beforeRedirect){var c={headers:e.headers};try{this._options.beforeRedirect.call(null,this._options,c)}catch(e){return void this.emit("error",e)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(e){var s=new f("Redirected request failed: "+e.message);s.cause=e,this.emit("error",s)}}else e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[]},e.exports=v({http:a,https:i}),e.exports.wrap=v},779:e=>{var t="undefined"!=typeof Element,r="function"==typeof Map,n="function"==typeof Set,o="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,i){if(e===i)return!0;if(e&&i&&"object"==typeof e&&"object"==typeof i){if(e.constructor!==i.constructor)return!1;var c,s,u,l;if(Array.isArray(e)){if((c=e.length)!=i.length)return!1;for(s=c;0!=s--;)if(!a(e[s],i[s]))return!1;return!0}if(r&&e instanceof Map&&i instanceof Map){if(e.size!==i.size)return!1;for(l=e.entries();!(s=l.next()).done;)if(!i.has(s.value[0]))return!1;for(l=e.entries();!(s=l.next()).done;)if(!a(s.value[1],i.get(s.value[0])))return!1;return!0}if(n&&e instanceof Set&&i instanceof Set){if(e.size!==i.size)return!1;for(l=e.entries();!(s=l.next()).done;)if(!i.has(s.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(i)){if((c=e.length)!=i.length)return!1;for(s=c;0!=s--;)if(e[s]!==i[s])return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===i.toString();if((c=(u=Object.keys(e)).length)!==Object.keys(i).length)return!1;for(s=c;0!=s--;)if(!Object.prototype.hasOwnProperty.call(i,u[s]))return!1;if(t&&e instanceof Element)return!1;for(s=c;0!=s--;)if(("_owner"!==u[s]&&"__v"!==u[s]&&"__o"!==u[s]||!e.$$typeof)&&!a(e[u[s]],i[u[s]]))return!1;return!0}return e!=e&&i!=i}e.exports=function(e,t){try{return a(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},646:(e,t,r)=>{"use strict";var n,o=r(297),a=(n=o)&&"object"==typeof n&&"default"in n?n.default:n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,r){if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==r&&"function"!=typeof r)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(n){if("function"!=typeof n)throw new Error("Expected WrappedComponent to be a React component.");var s,u=[];function l(){s=e(u.map((function(e){return e.props}))),p.canUseDOM?t(s):r&&(s=r(s))}var p=function(e){var t,r;function o(){return e.apply(this,arguments)||this}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.peek=function(){return s},o.rewind=function(){if(o.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=s;return s=void 0,u=[],e};var i=o.prototype;return i.UNSAFE_componentWillMount=function(){u.push(this),l()},i.componentDidUpdate=function(){l()},i.componentWillUnmount=function(){var e=u.indexOf(this);u.splice(e,1),l()},i.render=function(){return a.createElement(n,this.props)},o}(o.PureComponent);return i(p,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(n)+")"),i(p,"canUseDOM",c),p}}},117:(e,t,r)=>{"use strict";r.r(t);var n=r(605),o=r.n(n);const a=require("express");var i=r.n(a);const c=require("cookie-parser");var s=r.n(c);const u=require("compression");var l=r.n(u);const p=require("cors");var f=r.n(p);const d=require("helmet");var m=r.n(d);const h=require("dotenv");r.n(h)().config(),process.env.PORT;const y="FME6LqRgUuFiPPAx",v=require("mongoose");var g=r.n(v);const b=require("mongoose-unique-validator");var w=r.n(b);const x=require("bcrypt");var E=r.n(x);function O(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function k(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){O(a,n,o,i,c,"next",e)}function c(e){O(a,n,o,i,c,"throw",e)}i(void 0)}))}}var S=new(g().Schema)({name:{type:String,trim:!0,required:"Name is required"},email:{type:String,trim:!0,unique:"Email already exists",match:[/.+\@.+\..+/,"Please fill a valid email address"],required:"Email is required"},created:{type:Date,default:Date.now},updated:Date,passwordHash:{type:String,required:!0},about:{type:String,trim:!0},photo:{data:Buffer,contentType:String},followers:[{type:g().Schema.Types.ObjectId,ref:"User"}],following:[{type:g().Schema.Types.ObjectId,ref:"User"}]});S.plugin(w()),S.pre("save",function(){var e=k(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isModified("passwordHash")){e.next=2;break}return e.abrupt("return",t());case 2:return e.next=4,E().hash(this.passwordHash,10);case 4:r=e.sent,this.passwordHash=r,t();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),S.set("toJSON",{transform:function(e,t){t.id=t._id.toString(),delete t._id,delete t.__v,delete t.passwordHash}}),S.methods.comparePasswords=function(){var e=k(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E().compare(t,this.passwordHash));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();const j=g().model("User",S),T=require("lodash"),R=(require("express-async-errors"),require("formidable"));var A=r.n(R);const C=require("fs");var P=r.n(C);const I=require("sharp");var B=r.n(I);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function L(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){D(a,n,o,i,c,"next",e)}function c(e){D(a,n,o,i,c,"throw",e)}i(void 0)}))}}var U=function(){var e=L(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body,o=new j(N(N({},n),{},{passwordHash:n.password})),e.next=4,o.save();case 4:return e.abrupt("return",r.status(200).json({message:"Successfully signed up!"}));case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),F=function(){var e=L(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.find({}).select("-photo.data");case 2:n=e.sent,r.json(n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),M=function(){var e=L(regeneratorRuntime.mark((function e(t,r,n,o){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.findById(o).populate("followers","_id, name").populate("following","_id name").exec();case 2:if(a=e.sent){e.next=5;break}return e.abrupt("return",r.status(400).json({error:"User not found"}));case 5:t.profile=a,n();case 7:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}(),H=function(){var e=L(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.json(t.profile));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),z=function(){var e=L(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=new(A().IncomingForm)).keepExtensions=!0,n.parse(t,function(){var e=L(regeneratorRuntime.mark((function e(n,o,a){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=2;break}return e.abrupt("return",r.status(400).json({error:"Photo could not be uploaded"}));case 2:if(i=t.profile,(i=(0,T.extend)(i,o)).updated=Date.now(),!a.photo){e.next=11;break}return e.next=8,B()(P().readFileSync(a.photo.path)).resize({height:600,width:600}).toFile("./x");case 8:e.sent,i.photo.data=P().readFileSync("./x"),i.photo.contentType=a.photo.type;case 11:return e.next=13,i.save();case 13:r.json(i);case 14:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),$=function(){var e=L(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.profile,e.next=3,n.remove();case 3:o=e.sent,r.json(o);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),V=function(){var e=L(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.profile.photo.data){e.next=3;break}return r.set("Content-Type",t.profile.photo.contentType),e.abrupt("return",r.send(t.profile.photo.data));case 3:n();case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),W=function(){var e=L(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.sendFile("".concat(process.cwd(),"/controllers/profile-pic.png")));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),G=function(){var e=L(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.findByIdAndUpdate(t.auth.id,{$addToSet:{following:t.body.followId}});case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Y=function(){var e=L(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.findByIdAndUpdate(t.body.followId,{$addToSet:{followers:t.auth.id}},{new:!0}).populate("following","_id name").populate("followers","_id name").exec();case 2:n=e.sent,r.json(n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),K=function(){var e=L(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.findByIdAndUpdate(t.auth.id,{$pull:{following:t.body.unfollowId}});case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),J=function(){var e=L(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.findByIdAndUpdate(t.body.unfollowId,{$pull:{followers:t.auth.id}},{new:!0}).populate("following","_id name").populate("followers","_id name").exec();case 2:n=e.sent,r.json(n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();const X={create:U,list:F,userByID:M,read:H,update:z,remove:$,photo:V,defaultPhoto:W,findPeople:function(){var e=L(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t.profile.following).push(t.profile._id),e.next=4,j.find({_id:{$nin:n}}).select("name");case 4:o=e.sent,r.json(o);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),addFollowing:G,addFollower:Y,removeFollowing:K,removeFollower:J},Z=require("jsonwebtoken");var Q=r.n(Z);const ee=require("express-jwt");var te=r.n(ee);function re(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}const ne={signin:function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r){var n,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body,e.next=3,j.findOne({email:n.email});case 3:if(o=e.sent){e.next=6;break}return e.abrupt("return",r.status(401).json({error:"wrong credentials"}));case 6:return e.next=8,o.comparePasswords(n.password);case 8:if(e.sent){e.next=11;break}return e.abrupt("return",r.status(401).json({error:"wrong credentials"}));case 11:return a=Q().sign({id:o._id},y),r.cookie("t",a,{expire:new Date+9999}),e.abrupt("return",r.json({token:a,user:{id:o._id,name:o.name,email:o.email}}));case 14:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){re(a,n,o,i,c,"next",e)}function c(e){re(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),signout:function(e,t){return t.clearCookie("t"),t.status(200).json({message:"signed out"})},requireSigin:te()({secret:y,algorithms:["HS256"],userProperty:"auth"}),hasAuthorization:function(e,t,r){if(!e.profile||!e.auth||e.profile._id!=e.auth.id)return t.status(403).json({error:"User is not authorized"});r()}};var oe=i().Router();oe.route("/users").get(X.list).post(X.create),oe.route("/users/defaultphoto").get(X.defaultPhoto),oe.route("/users/follow").put(ne.requireSigin,X.addFollowing,X.addFollower),oe.route("/users/unfollow").put(ne.requireSigin,X.removeFollowing,X.removeFollower),oe.route("/users/:userId").get(ne.requireSigin,X.read).put(ne.requireSigin,ne.hasAuthorization,X.update).delete(ne.requireSigin,ne.hasAuthorization,X.remove),oe.route("/users/photo/:userId").get(X.photo,X.defaultPhoto),oe.route("/users/findpeople/:userId").get(ne.requireSigin,X.findPeople),oe.param("userId",X.userByID);const ae=oe;var ie=i().Router();ie.route("/signin").post(ne.signin),ie.route("/signout").get(ne.signout);const ce=ie;var se=new(g().Schema)({text:{type:String,required:"Text is required"},photo:{data:Buffer,contentType:String},postedBy:{type:g().Schema.Types.ObjectId,ref:"User"},created:{type:Date,default:Date.now},likes:[{type:g().Schema.Types.ObjectId,ref:"User"}],comments:[{text:String,created:{type:Date,default:Date.now},postedBy:{type:g().Schema.Types.ObjectId,ref:"User"}}]});se.set("toJSON",{transform:function(e,t){t.id=t._id.toString(),delete t._id,delete t.__v}});const ue=g().model("Post",se),le=require("uuid");function pe(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function fe(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){pe(a,n,o,i,c,"next",e)}function c(e){pe(a,n,o,i,c,"throw",e)}i(void 0)}))}}var de=function(){var e=fe(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t.profile.following).push(t.profile._id),e.next=4,ue.find({postedBy:{$in:n}}).select("-photo.data").populate("comments.postedBy","_id name").populate("postedBy","_id name").sort("-created").exec();case 4:o=e.sent,r.json(o);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),me=function(){var e=fe(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.find({postedBy:t.profile._id}).populate("comments.postedBy","_id name").populate("postedBy","_id name").sort("-created").exec();case 2:n=e.sent,r.json(n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),he=function(){var e=fe(regeneratorRuntime.mark((function e(t,r,n){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(o=new(A().IncomingForm)).keepExtensions=!0,o.parse(t,function(){var e=fe(regeneratorRuntime.mark((function e(n,o,a){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=2;break}return e.abrupt("return",r.status(400).json({error:"Image could not be uploaded"}));case 2:if((i=new ue(o)).postedBy=t.profile,!a.photo){e.next=10;break}return e.next=7,B()(P().readFileSync(a.photo.path)).resize({height:600,width:600}).toFile("./x");case 7:e.sent,i.photo.data=P().readFileSync("./x"),i.photo.contentType=a.photo.type;case 10:return e.next=12,i.save();case 12:r.json(i);case 13:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),ye=function(){var e=fe(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.set("Content-Type",t.post.photo.contentType),e.abrupt("return",r.send(t.post.photo.data));case 2:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),ve=function(){var e=fe(regeneratorRuntime.mark((function e(t,r,n,o){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.findById(o).populate("postedBy","_id name").exec();case 2:if(a=e.sent){e.next=5;break}return e.abrupt("return",r.status(400).json({error:"Post not found "}));case 5:t.post=a,n();case 7:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}(),ge=function(){var e=fe(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.post&&t.auth&&t.post.postedBy._id==t.auth.id){e.next=3;break}return e.abrupt("return",r.status(403).json({error:"User is not authorized"}));case 3:n();case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),be=function(){var e=fe(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.findByIdAndRemove(t.post._id);case 2:return e.abrupt("return",r.status(204).end());case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),we=function(){var e=fe(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.findByIdAndUpdate(t.body.postId,{$addToSet:{likes:t.auth.id}},{new:!0});case 2:n=e.sent,r.json(n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),xe=function(){var e=fe(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.findByIdAndUpdate(t.body.postId,{$pull:{likes:t.auth.id}},{new:!0});case 2:n=e.sent,r.json(n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ee=function(){var e=fe(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t.body.comment).postedBy=t.auth.id,n.id=(0,le.v4)(),e.next=5,ue.findByIdAndUpdate(t.body.postId,{$addToSet:{comments:n}},{new:!0}).populate("comments.postedBy","_id name").populate("postedBy","_id name").exec();case 5:o=e.sent,r.json(o);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Oe=function(){var e=fe(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t.auth.id,t.body.comment.postedBy.id),t.body.comment&&t.auth.id&&t.body.comment.postedBy.id===t.auth.id){e.next=4;break}return e.abrupt("return",r.status(403).json({error:"User is not authorized"}));case 4:n();case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),ke=function(){var e=fe(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body.comment,e.next=3,ue.findByIdAndUpdate(t.body.postId,{$pull:{comments:{_id:n._id}}},{new:!0}).populate("comments.postedBy","_id name").populate("postedBy","_id name").exec();case 3:o=e.sent,r.json(o);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();const Se={listNewsfeed:de,listByUser:me,create:he,photo:ye,postByID:ve,isPoster:ge,remove:be,like:we,unlike:xe,isCommentor:Oe,comment:Ee,uncomment:ke};var je=i().Router();je.route("/posts/like").put(ne.requireSigin,Se.like),je.route("/posts/unlike").put(ne.requireSigin,Se.unlike),je.route("/posts/comment").put(ne.requireSigin,Se.comment),je.route("/posts/uncomment").put(ne.requireSigin,Se.isCommentor,Se.uncomment),je.route("/posts/feed/:userId").get(ne.requireSigin,Se.listNewsfeed),je.route("/posts/by/:userId").get(ne.requireSigin,Se.listByUser),je.route("/posts/new/:userId").post(ne.requireSigin,Se.create),je.route("/posts/photo/:postId").get(Se.photo),je.route("/posts/:postId").delete(ne.requireSigin,Se.isPoster,Se.remove),je.param("userId",X.userByID),je.param("postId",Se.postByID);const Te=je,Re=require("path");var Ae=r.n(Re),Ce=r(297),Pe=r.n(Ce);const Ie=require("react-dom/server");var Be=r.n(Ie);const _e=require("react-router-dom"),Ne=function(){return"undefined"!=typeof window&&!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt"))},qe=function(e){"undefined"!=typeof window&&localStorage.removeItem("jwt"),e()};function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}const Le=function(e){var t=e.component,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["component"]);return Pe().createElement(_e.Route,De({},r,{render:function(e){return Ne()?Pe().createElement(t,e):Pe().createElement(_e.Redirect,{to:{pathname:"/signin",state:{from:e.location}}})}}))},Ue=require("@material-ui/core"),Fe=r.p+"6e0c9acd65e925fbad35a6ce96eb9bf0.jpeg";var Me=r(602),He=r.n(Me);const ze=function(e){return{headers:{Authorization:"Bearer ".concat(e)}}};function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(r),!0).forEach((function(t){We(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function We(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ge(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function Ye(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Ge(a,n,o,i,c,"next",e)}function c(e){Ge(a,n,o,i,c,"throw",e)}i(void 0)}))}}var Ke="/api/posts",Je=function(){var e=Ye(regeneratorRuntime.mark((function e(t,r,n){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=ze(r),e.next=3,He().get("".concat(Ke,"/feed/").concat(t.userId),Ve(Ve({},o),{},{cancelToken:n.token}));case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Xe=function(){var e=Ye(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ze(r),e.next=3,He().get("".concat(Ke,"/by/").concat(t.userId),n);case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ze=function(){var e=Ye(regeneratorRuntime.mark((function e(t,r,n){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=ze(r),e.next=3,He().post("".concat(Ke,"/new/").concat(t.userId),n,o);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Qe=function(){var e=Ye(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ze(r),e.next=3,He().delete("".concat(Ke,"/").concat(t.postId),n);case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),et=function(){var e=Ye(regeneratorRuntime.mark((function e(t,r,n){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=ze(r),e.next=3,He().put("".concat(Ke,"/like"),{userId:t.userId,postId:n},o);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),tt=function(){var e=Ye(regeneratorRuntime.mark((function e(t,r,n){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=ze(r),e.next=3,He().put("".concat(Ke,"/unlike"),{userId:t.userId,postId:n},o);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),rt=function(){var e=Ye(regeneratorRuntime.mark((function e(t,r,n,o){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ze(r),console.log("DEBUGG",rt),e.next=4,He().put("".concat(Ke,"/comment"),{userId:t.userId,postId:n,comment:o},a);case 4:return i=e.sent,e.abrupt("return",i.data);case 6:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}(),nt=function(){var e=Ye(regeneratorRuntime.mark((function e(t,r,n,o){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ze(r),e.next=3,He().put("".concat(Ke,"/uncomment"),{userId:t.userId,postId:n,comment:o},a);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}();const ot=require("@material-ui/core/utils"),at=(0,ot.createSvgIcon)(Ce.createElement(Ce.Fragment,null,Ce.createElement("circle",{cx:"12",cy:"12",r:"3.2"}),Ce.createElement("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})),"PhotoCamera"),it=require("prop-types");var ct=r.n(it);function st(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(r),!0).forEach((function(t){pt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var dt=(0,Ue.makeStyles)((function(e){return{root:{backgroundColor:e.palette.primary,padding:"".concat(e.spacing(3),"px 0px 1px")},card:{maxWidth:600,margin:"auto",marginBottom:e.spacing(3),backgroundColor:"rgba(65, 150, 136, 0.09)",boxShadow:"none"},cardContent:{backgroundColor:e.palette.secondary,paddingTop:0,paddingBottom:0},cardHeader:{paddingTop:8,paddingBottom:8},textField:{width:"90%",marginLeft:e.spacing(2),marginRight:e.spacing(2)},input:{display:"none"},photoButton:{height:30,marginBottom:5},submit:{margin:e.spacing(2)},filename:{verticalAlign:"super"}}})),mt=function(e){var t,r,n=dt(),o=(t=(0,Ce.useState)({text:"",photo:"",error:"",user:{}}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return ft(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ft(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],i=o[1];(0,Ce.useEffect)((function(){i((function(e){return lt(lt({},e),{},{user:Ne().user})}))}),[]);var c=Ne(),s=function(){var t,r=(t=regeneratorRuntime.mark((function t(r){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),(n=new FormData).append("text",a.text),n.append("photo",a.photo),t.prev=4,t.next=7,Ze({userId:c.user.id},c.token,n);case 7:o=t.sent,i(lt(lt({},a),{},{text:"",photo:""})),e.addUpdate(o),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),i(lt(lt({},a),{},{error:t.t0.response.data.error}));case 15:case"end":return t.stop()}}),t,null,[[4,12]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){st(a,n,o,i,c,"next",e)}function c(e){st(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}(),u=function(e){return function(t){var r="photo"===e?t.target.files[0]:t.target.value;i(lt(lt({},a),{},pt({},e,r)))}},l=a.user.id?"/api/users/photo/".concat(a.user.id," "):"/api/users/defaultphoto";return Pe().createElement("div",{className:n.root},Pe().createElement(Ue.Card,{className:n.card},Pe().createElement(Ue.CardHeader,{avatar:Pe().createElement(Ue.Avatar,{src:l}),title:a.user.name,className:n.cardHeader}),Pe().createElement(Ue.CardContent,{className:n.cardContent},Pe().createElement(Ue.TextField,{placeholder:"Share your thoughts...",className:n.textField,multiline:!0,rows:"3",value:a.text,onChange:u("text"),margin:"normal"}),Pe().createElement("input",{accept:"image/*",onChange:u("photo"),className:n.input,id:"icon-button-file",type:"file"}),Pe().createElement("label",{htmlFor:"icon-button-file"},Pe().createElement(Ue.IconButton,{color:"secondary",className:n.photoButton,component:"span"},Pe().createElement(at,null))),Pe().createElement("span",{className:n.filename},a.photo?a.photo.name:""),a.error&&Pe().createElement(Ue.Typography,{component:"p",color:"error"},Pe().createElement(Ue.Icon,{color:"error",className:n.error},"error"),a.error)),Pe().createElement(Ue.CardActions,null,Pe().createElement(Ue.Button,{color:"primary",variant:"contained",disabled:""===a.text,onClick:s,className:n.submit},"POST"))))};mt.propTypes={addUpdate:ct().func.isRequired};const ht=mt,yt=(0,ot.createSvgIcon)(Ce.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),vt=(0,ot.createSvgIcon)(Ce.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite"),gt=(0,ot.createSvgIcon)(Ce.createElement("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder"),bt=(0,ot.createSvgIcon)(Ce.createElement("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}),"Comment");function wt(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function xt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){wt(a,n,o,i,c,"next",e)}function c(e){wt(a,n,o,i,c,"throw",e)}i(void 0)}))}}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ot=(0,Ue.makeStyles)((function(e){return{cardHeader:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},smallAvatar:{width:25,height:25},commentField:{width:"96%"},commentText:{backgroundColor:e.palette.secondary,padding:e.spacing(1),margin:"2px ".concat(e.spacing(2),"px 2px 2px")},commentDate:{display:"block",color:"rgba(255, 255, 255, 0.349)",fontSize:"0.8em"},commentDelete:{fontSize:"1.6em",verticalAlign:"middle",cursor:"pointer"},commentButton:{padding:"".concat(e.spacing(1))}}})),kt=function(e){var t,r,n=Ot(),o=(t=(0,Ce.useState)(""),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Et(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Et(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],i=o[1],c=Ne(),s=function(){var t=xt(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,t.next=4,rt({userId:c.user.id},c.token,e.postId,{text:a});case 4:n=t.sent,i(""),e.updateComments(n.comments),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0.response.data.error);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),u=function(t){return function(){var r=xt(regeneratorRuntime.mark((function r(n){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,nt({userId:c.user.id},c.token,e.postId,t);case 3:o=r.sent,e.updateComments(o.comments),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.log(r.t0.response.data.error);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},l=function(e){return Pe().createElement("p",{className:n.commentText},Pe().createElement(_e.Link,{to:"/user/".concat(e.postedBy.id),style:{color:"white"}},e.postedBy.name),Pe().createElement("br",null),e.text,Pe().createElement("span",{className:n.commentDate},new Date(e.created).toDateString()," | ",Ne().user.id===e.postedBy.id&&Pe().createElement(Ue.Icon,{onClick:u(e),className:n.commentDelete},"delete")))};return Pe().createElement("div",null,Pe().createElement(Ue.CardHeader,{avatar:Pe().createElement(Ue.Avatar,{className:n.smallAvatar,src:"/api/users/photo/".concat(Ne().user.id)}),title:Pe().createElement("form",{onSubmit:s},Pe().createElement(Ue.TextField,{multiline:!0,value:a,onChange:function(e){i(e.target.value)},placeholder:"Write something...",className:n.commentField,margin:"normal"}),a&&Pe().createElement(Ue.Button,{type:"submit",className:n.commentButton,color:"primary",variant:"contained"},"comment")),className:n.cardHeader}),e.comments.map((function(e){return Pe().createElement(Ue.CardHeader,{avatar:Pe().createElement(Ue.Avatar,{className:n.smallAvatar,src:"/api/users/photo/".concat(e.postedBy.id)}),title:l(e),className:n.cardHeader,key:e.id})})))};kt.proptTypes={postId:ct().string.isRequired,comments:ct().array.isRequired,updatedComments:ct().func.isRequired};const St=kt;function jt(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function Tt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){jt(a,n,o,i,c,"next",e)}function c(e){jt(a,n,o,i,c,"throw",e)}i(void 0)}))}}function Rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(r),!0).forEach((function(t){Ct(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ct(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var It=(0,Ue.makeStyles)((function(e){return{card:{maxWidth:600,margin:"auto",backgroundColor:"rgba(65, 150, 136, 0.1)",marginBottom:e.spacing(3)},cardHeader:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},cardContent:{backgroundColor:e.palette.primary,padding:"".concat(e.spacing(2),"px 0px")},text:{margin:e.spacing(2)},photo:{textAlign:"center",backgroundColor:"#f2f5f4",padding:e.spacing(1)},media:{width:"100%",height:"auto"},button:{margin:e.spacing(1)},link:{color:"white"}}})),Bt=function(e){var t,r,n,o=It(),a=Ne(),i=(r=(0,Ce.useState)({like:(t=e.post.likes,-1!==t.indexOf(a.user.id)),likesCount:e.post.likes.length,comments:e.post.comments}),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(r,n)||function(e,t){if(e){if("string"==typeof e)return Pt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pt(e,t):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0],s=i[1],u=function(){var t=Tt(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Qe({postId:e.post.id},a.token);case 3:e.onRemove(e.post),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0.response.data.error);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=Tt(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.like?tt:et,t.prev=1,t.next=4,r({userId:a.user.id},a.token,e.post.id);case 4:n=t.sent,s(At(At({},c),{},{like:!c.like,likesCount:n.likes.length})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0.response.data.error);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();return Pe().createElement(Ue.Card,{className:o.card},Pe().createElement(Ue.CardHeader,{avatar:Pe().createElement(Ue.Avatar,{src:"/api/users/photo/".concat(e.post.postedBy.id)}),action:e.post.postedBy.id===Ne().user.id&&Pe().createElement(Ue.IconButton,{onClick:u},Pe().createElement(yt,null)),title:Pe().createElement(_e.Link,{to:"/user/".concat(e.post.postedBy.id),className:o.link},e.post.postedBy.name),subheader:new Date(e.post.created).toDateString(),className:o.cardHeader}),Pe().createElement(Ue.CardContent,{className:o.cardContent},Pe().createElement(Ue.Typography,{component:"p",className:o.text},e.post.text),e.post.photo&&Pe().createElement("div",{className:o.photo},Pe().createElement("img",{src:"/api/posts/photo/".concat(e.post.id),alt:"post",className:o.media}))),Pe().createElement(Ue.CardActions,null,c.like?Pe().createElement(Ue.IconButton,{onClick:l,className:o.button,"aria-label":"Like",color:"secondary"},Pe().createElement(vt,null)):Pe().createElement(Ue.IconButton,{onClick:l,className:o.button,"aria-label":"Unlike",color:"secondary"},Pe().createElement(gt,null)),Pe().createElement("span",null,c.likesCount),Pe().createElement(Ue.IconButton,{className:o.button,"aria-label":"Comment",color:"secondary"},Pe().createElement(bt,null)),Pe().createElement("span",null,c.comments.length)),Pe().createElement(Ue.Divider,null),Pe().createElement(St,{postId:e.post.id,comments:c.comments,updateComments:function(e){console.log("here"),s(At(At({},c),{},{comments:e}))}}))};Bt.propTypes={post:ct().object.isRequired,onRemove:ct().func.isRequired};const _t=Bt;var Nt=function(e){return Pe().createElement("div",{style:{marginTop:"24px"}},e.posts.map((function(t){return Pe().createElement(_t,{post:t,key:t.id,onRemove:e.removeUpdate})})))};Nt.propTypes={posts:ct().array.isRequired,removeUpdate:ct().func.isRequired};const qt=Nt;function Dt(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function Lt(e){return function(e){if(Array.isArray(e))return Ft(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ut(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(e,t){if(e){if("string"==typeof e)return Ft(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ft(e,t):void 0}}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Mt=(0,Ue.makeStyles)((function(e){return{card:{margin:"auto",paddingTop:0,paddingBottom:e.spacing(3)},title:{padding:"".concat(e.spacing(3),"px ").concat(e.spacing(2.5),"px ").concat(e.spacing(2),"px"),color:e.palette.openTitle,fontSize:"1em"}}}));const Ht=function(){var e,t,r=Mt(),n=(e=(0,Ce.useState)([]),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,t)||Ut(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],a=n[1],i=Ne();return(0,Ce.useEffect)((function(){var e=He().CancelToken.source();return function(){var t,r=(t=regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Je({userId:i.user.id},i.token,e);case 3:r=t.sent,a(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){Dt(a,n,o,i,c,"next",e)}function c(e){Dt(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}()(),function(){return e.cancel()}}),[i.token,i.user.id]),Pe().createElement(Ue.Card,{className:r.card},Pe().createElement(Ue.Typography,{type:"title",className:r.title},"Newsfeed"),Pe().createElement(Ue.Divider,null),Pe().createElement(ht,{addUpdate:function(e){var t=Lt(o);t.unshift(e),a(t)}}),Pe().createElement(Ue.Divider,null),Pe().createElement(qt,{removeUpdate:function(e){var t=Lt(o),r=t.indexOf(e);t.splice(r,1),a(t)},posts:o}))},zt=(0,ot.createSvgIcon)(Ce.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEye");function $t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(r),!0).forEach((function(t){Wt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gt(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function Yt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Gt(a,n,o,i,c,"next",e)}function c(e){Gt(a,n,o,i,c,"throw",e)}i(void 0)}))}}var Kt="/api/users",Jt=function(){var e=Yt(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He().post(Kt,t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xt=function(){var e=Yt(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He().get(Kt,{cancelToken:t.token});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zt=function(){var e=Yt(regeneratorRuntime.mark((function e(t,r,n){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=ze(r),e.next=3,He().get("".concat(Kt,"/").concat(t.userId),Vt(Vt({},o),{},{cancelToken:n.token}));case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Qt=function(){var e=Yt(regeneratorRuntime.mark((function e(t,r,n){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=ze(r),e.next=3,He().put("".concat(Kt,"/").concat(t.userId),n,o);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),er=function(){var e=Yt(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ze(r),e.next=3,He().delete("".concat(Kt,"/").concat(t.userId),n);case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),tr=function(){var e=Yt(regeneratorRuntime.mark((function e(t,r,n){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=ze(r),e.next=3,He().put("".concat(Kt,"/follow"),{userId:t.userId,followId:n},o);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),rr=function(){var e=Yt(regeneratorRuntime.mark((function e(t,r,n){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=ze(r),e.next=3,He().put("".concat(Kt,"/unfollow"),{userId:t.userId,unfollowId:n},o);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),nr=function(){var e=Yt(regeneratorRuntime.mark((function e(t,r,n){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=ze(r),e.next=3,He().get("".concat(Kt,"/findpeople/").concat(t.userId),Vt(Vt({},o),{},{cancelToken:n.token}),o);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();function or(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?or(Object(r),!0).forEach((function(t){ir(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):or(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ir(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cr(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function sr(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){cr(a,n,o,i,c,"next",e)}function c(e){cr(a,n,o,i,c,"throw",e)}i(void 0)}))}}function ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var lr=(0,Ue.makeStyles)((function(e){return{root:{padding:e.spacing(1),margin:0},title:{margin:"".concat(e.spacing(3),"px ").concat(e.spacing(1),"px ").concat(e.spacing(2),"px"),color:e.palette.openTitle,fontSize:"1em"},avatar:{marginRight:e.spacing(1)},snack:{color:"black"}}}));const pr=function(){var e,t,r=lr(),n=(e=(0,Ce.useState)({users:[],open:!1,followMessage:""}),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ur(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ur(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],a=n[1],i=Ne();(0,Ce.useEffect)((function(){var e=He().CancelToken.source();return function(){var t=sr(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nr({userId:i.user.id},i.token,e);case 3:r=t.sent,a((function(e){return ar(ar({},e),{},{users:r})})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0,"here");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()(),function(){return e.cancel()}}),[i.token,i.user.id]);var c=function(){var e=sr(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tr({userId:i.user.id},i.token,t.id);case 3:e.sent,(n=o.users).splice(r,1),a(ar(ar({},o),{},{users:n,open:!0,followMessage:"Following ".concat(t.name,"!")})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data.error);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}();return Pe().createElement("div",null,Pe().createElement(Ue.Paper,{className:r.root,elevation:4},Pe().createElement(Ue.Typography,{type:"title",className:r.title},"Who to Follow"),Pe().createElement(Ue.List,null,o.users.map((function(e,t){return Pe().createElement("span",{key:e.id},Pe().createElement(Ue.ListItem,null,Pe().createElement(Ue.ListItemAvatar,null,Pe().createElement(Ue.Avatar,{className:r.avatar,src:"/api/users/photo/".concat(e.id)})),Pe().createElement(Ue.ListItemText,{primary:e.name}),Pe().createElement(Ue.ListItemSecondaryAction,null,Pe().createElement(_e.Link,{to:"/user/".concat(e.id)},Pe().createElement(Ue.IconButton,{variant:"contained",color:"secondary"},Pe().createElement(zt,null))),Pe().createElement(Ue.Button,{"aria-label":"Follow",variant:"contained",color:"primary",onClick:function(){return c(e,t)}},"Follow"))))})))),Pe().createElement(Ue.Snackbar,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:o.open,onClose:function(e,t){a(ar(ar({},o),{},{open:!1}))},authoHideDuration:6e3,message:Pe().createElement("span",{className:r.snack},o.followMessage)}))},fr=(0,ot.createSvgIcon)(Ce.createElement("path",{d:"M12 .3a12 12 0 0 0-3.8 23.4c.6.1.8-.3.8-.6v-2c-3.3.7-4-1.6-4-1.6-.6-1.4-1.4-1.8-1.4-1.8-1-.7.1-.7.1-.7 1.2 0 1.9 1.2 1.9 1.2 1 1.8 2.8 1.3 3.5 1 0-.8.4-1.3.7-1.6-2.7-.3-5.5-1.3-5.5-6 0-1.2.5-2.3 1.3-3.1-.2-.4-.6-1.6 0-3.2 0 0 1-.3 3.4 1.2a11.5 11.5 0 0 1 6 0c2.3-1.5 3.3-1.2 3.3-1.2.6 1.6.2 2.8 0 3.2.9.8 1.3 1.9 1.3 3.2 0 4.6-2.8 5.6-5.5 5.9.5.4.9 1 .9 2.2v3.3c0 .3.1.7.8.6A12 12 0 0 0 12 .3"}),"GitHub");var dr=r(646),mr=r.n(dr),hr=r(779),yr=r.n(hr);const vr=require("object-assign");var gr,br,wr,xr,Er=r.n(vr),Or="bodyAttributes",kr="htmlAttributes",Sr={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},jr=(Object.keys(Sr).map((function(e){return Sr[e]})),"charset"),Tr="cssText",Rr="href",Ar="innerHTML",Cr="itemprop",Pr="rel",Ir={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Br=Object.keys(Ir).reduce((function(e,t){return e[Ir[t]]=t,e}),{}),_r=[Sr.NOSCRIPT,Sr.SCRIPT,Sr.STYLE],Nr="data-react-helmet",qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dr=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Lr=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fr=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},Mr=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Hr=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},zr=function(e){var t=Yr(e,Sr.TITLE),r=Yr(e,"titleTemplate");if(r&&t)return r.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var n=Yr(e,"defaultTitle");return t||n||void 0},$r=function(e){return Yr(e,"onChangeClientState")||function(){}},Vr=function(e,t){return t.filter((function(t){return void 0!==t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return Ur({},e,t)}),{})},Wr=function(e,t){return t.filter((function(e){return void 0!==e[Sr.BASE]})).map((function(e){return e[Sr.BASE]})).reverse().reduce((function(t,r){if(!t.length)for(var n=Object.keys(r),o=0;o<n.length;o++){var a=n[o].toLowerCase();if(-1!==e.indexOf(a)&&r[a])return t.concat(r)}return t}),[])},Gr=function(e,t,r){var n={};return r.filter((function(t){return!!Array.isArray(t[e])||(void 0!==t[e]&&Qr("Helmet: "+e+' should be of type "Array". Instead found type "'+qr(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,r){var o={};r.filter((function(e){for(var r=void 0,a=Object.keys(e),i=0;i<a.length;i++){var c=a[i],s=c.toLowerCase();-1===t.indexOf(s)||r===Pr&&"canonical"===e[r].toLowerCase()||s===Pr&&"stylesheet"===e[s].toLowerCase()||(r=s),-1===t.indexOf(c)||c!==Ar&&c!==Tr&&c!==Cr||(r=c)}if(!r||!e[r])return!1;var u=e[r].toLowerCase();return n[r]||(n[r]={}),o[r]||(o[r]={}),!n[r][u]&&(o[r][u]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var a=Object.keys(o),i=0;i<a.length;i++){var c=a[i],s=Er()({},n[c],o[c]);n[c]=s}return e}),[]).reverse()},Yr=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(n.hasOwnProperty(t))return n[t]}return null},Kr=(gr=Date.now(),function(e){var t=Date.now();t-gr>16?(gr=t,e(t)):setTimeout((function(){Kr(e)}),0)}),Jr=function(e){return clearTimeout(e)},Xr="undefined"!=typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Kr:global.requestAnimationFrame||Kr,Zr="undefined"!=typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Jr:global.cancelAnimationFrame||Jr,Qr=function(e){return console&&"function"==typeof console.warn&&console.warn(e)},en=null,tn=function(e,t){var r=e.baseTag,n=e.bodyAttributes,o=e.htmlAttributes,a=e.linkTags,i=e.metaTags,c=e.noscriptTags,s=e.onChangeClientState,u=e.scriptTags,l=e.styleTags,p=e.title,f=e.titleAttributes;on(Sr.BODY,n),on(Sr.HTML,o),nn(p,f);var d={baseTag:an(Sr.BASE,r),linkTags:an(Sr.LINK,a),metaTags:an(Sr.META,i),noscriptTags:an(Sr.NOSCRIPT,c),scriptTags:an(Sr.SCRIPT,u),styleTags:an(Sr.STYLE,l)},m={},h={};Object.keys(d).forEach((function(e){var t=d[e],r=t.newTags,n=t.oldTags;r.length&&(m[e]=r),n.length&&(h[e]=d[e].oldTags)})),t&&t(),s(e,m,h)},rn=function(e){return Array.isArray(e)?e.join(""):e},nn=function(e,t){void 0!==e&&document.title!==e&&(document.title=rn(e)),on(Sr.TITLE,t)},on=function(e,t){var r=document.getElementsByTagName(e)[0];if(r){for(var n=r.getAttribute(Nr),o=n?n.split(","):[],a=[].concat(o),i=Object.keys(t),c=0;c<i.length;c++){var s=i[c],u=t[s]||"";r.getAttribute(s)!==u&&r.setAttribute(s,u),-1===o.indexOf(s)&&o.push(s);var l=a.indexOf(s);-1!==l&&a.splice(l,1)}for(var p=a.length-1;p>=0;p--)r.removeAttribute(a[p]);o.length===a.length?r.removeAttribute(Nr):r.getAttribute(Nr)!==i.join(",")&&r.setAttribute(Nr,i.join(","))}},an=function(e,t){var r=document.head||document.querySelector(Sr.HEAD),n=r.querySelectorAll(e+"[data-react-helmet]"),o=Array.prototype.slice.call(n),a=[],i=void 0;return t&&t.length&&t.forEach((function(t){var r=document.createElement(e);for(var n in t)if(t.hasOwnProperty(n))if(n===Ar)r.innerHTML=t.innerHTML;else if(n===Tr)r.styleSheet?r.styleSheet.cssText=t.cssText:r.appendChild(document.createTextNode(t.cssText));else{var c=void 0===t[n]?"":t[n];r.setAttribute(n,c)}r.setAttribute(Nr,"true"),o.some((function(e,t){return i=t,r.isEqualNode(e)}))?o.splice(i,1):a.push(r)})),o.forEach((function(e){return e.parentNode.removeChild(e)})),a.forEach((function(e){return r.appendChild(e)})),{oldTags:o,newTags:a}},cn=function(e){return Object.keys(e).reduce((function(t,r){var n=void 0!==e[r]?r+'="'+e[r]+'"':""+r;return t?t+" "+n:n}),"")},sn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,r){return t[Ir[r]||r]=e[r],t}),t)},un=function(e,t,r){switch(e){case Sr.TITLE:return{toComponent:function(){return e=t.title,r=t.titleAttributes,(n={key:e})[Nr]=!0,o=sn(r,n),[Pe().createElement(Sr.TITLE,o,e)];var e,r,n,o},toString:function(){return function(e,t,r,n){var o=cn(r),a=rn(t);return o?"<"+e+' data-react-helmet="true" '+o+">"+Hr(a,n)+"</"+e+">":"<"+e+' data-react-helmet="true">'+Hr(a,n)+"</"+e+">"}(e,t.title,t.titleAttributes,r)}};case Or:case kr:return{toComponent:function(){return sn(t)},toString:function(){return cn(t)}};default:return{toComponent:function(){return function(e,t){return t.map((function(t,r){var n,o=((n={key:r})[Nr]=!0,n);return Object.keys(t).forEach((function(e){var r=Ir[e]||e;if(r===Ar||r===Tr){var n=t.innerHTML||t.cssText;o.dangerouslySetInnerHTML={__html:n}}else o[r]=t[e]})),Pe().createElement(e,o)}))}(e,t)},toString:function(){return function(e,t,r){return t.reduce((function(t,n){var o=Object.keys(n).filter((function(e){return!(e===Ar||e===Tr)})).reduce((function(e,t){var o=void 0===n[t]?t:t+'="'+Hr(n[t],r)+'"';return e?e+" "+o:o}),""),a=n.innerHTML||n.cssText||"",i=-1===_r.indexOf(e);return t+"<"+e+' data-react-helmet="true" '+o+(i?"/>":">"+a+"</"+e+">")}),"")}(e,t,r)}}}},ln=function(e){var t=e.baseTag,r=e.bodyAttributes,n=e.encode,o=e.htmlAttributes,a=e.linkTags,i=e.metaTags,c=e.noscriptTags,s=e.scriptTags,u=e.styleTags,l=e.title,p=void 0===l?"":l,f=e.titleAttributes;return{base:un(Sr.BASE,t,n),bodyAttributes:un(Or,r,n),htmlAttributes:un(kr,o,n),link:un(Sr.LINK,a,n),meta:un(Sr.META,i,n),noscript:un(Sr.NOSCRIPT,c,n),script:un(Sr.SCRIPT,s,n),style:un(Sr.STYLE,u,n),title:un(Sr.TITLE,{title:p,titleAttributes:f},n)}},pn=mr()((function(e){return{baseTag:Wr([Rr,"target"],e),bodyAttributes:Vr(Or,e),defer:Yr(e,"defer"),encode:Yr(e,"encodeSpecialCharacters"),htmlAttributes:Vr(kr,e),linkTags:Gr(Sr.LINK,[Pr,Rr],e),metaTags:Gr(Sr.META,["name",jr,"http-equiv","property",Cr],e),noscriptTags:Gr(Sr.NOSCRIPT,[Ar],e),onChangeClientState:$r(e),scriptTags:Gr(Sr.SCRIPT,["src",Ar],e),styleTags:Gr(Sr.STYLE,[Tr],e),title:zr(e),titleAttributes:Vr("titleAttributes",e)}}),(function(e){en&&Zr(en),e.defer?en=Xr((function(){tn(e,(function(){en=null}))})):(tn(e),en=null)}),ln)((function(){return null})),fn=(br=pn,xr=wr=function(e){function t(){return Dr(this,t),Mr(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return!yr()(this.props,e)},t.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case Sr.SCRIPT:case Sr.NOSCRIPT:return{innerHTML:t};case Sr.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},t.prototype.flattenArrayTypeChildren=function(e){var t,r=e.child,n=e.arrayTypeChildren,o=e.newChildProps,a=e.nestedChildren;return Ur({},n,((t={})[r.type]=[].concat(n[r.type]||[],[Ur({},o,this.mapNestedChildrenToProps(r,a))]),t))},t.prototype.mapObjectTypeChildren=function(e){var t,r,n=e.child,o=e.newProps,a=e.newChildProps,i=e.nestedChildren;switch(n.type){case Sr.TITLE:return Ur({},o,((t={})[n.type]=i,t.titleAttributes=Ur({},a),t));case Sr.BODY:return Ur({},o,{bodyAttributes:Ur({},a)});case Sr.HTML:return Ur({},o,{htmlAttributes:Ur({},a)})}return Ur({},o,((r={})[n.type]=Ur({},a),r))},t.prototype.mapArrayTypeChildrenToProps=function(e,t){var r=Ur({},t);return Object.keys(e).forEach((function(t){var n;r=Ur({},r,((n={})[t]=e[t],n))})),r},t.prototype.warnOnInvalidChildren=function(e,t){return!0},t.prototype.mapChildrenToProps=function(e,t){var r=this,n={};return Pe().Children.forEach(e,(function(e){if(e&&e.props){var o=e.props,a=o.children,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,r){return t[Br[r]||r]=e[r],t}),t)}(Fr(o,["children"]));switch(r.warnOnInvalidChildren(e,a),e.type){case Sr.LINK:case Sr.META:case Sr.NOSCRIPT:case Sr.SCRIPT:case Sr.STYLE:n=r.flattenArrayTypeChildren({child:e,arrayTypeChildren:n,newChildProps:i,nestedChildren:a});break;default:t=r.mapObjectTypeChildren({child:e,newProps:t,newChildProps:i,nestedChildren:a})}}})),t=this.mapArrayTypeChildrenToProps(n,t)},t.prototype.render=function(){var e=this.props,t=e.children,r=Fr(e,["children"]),n=Ur({},r);return t&&(n=this.mapChildrenToProps(t,n)),Pe().createElement(br,n)},Lr(t,null,[{key:"canUseDOM",set:function(e){br.canUseDOM=e}}]),t}(Pe().Component),wr.propTypes={base:ct().object,bodyAttributes:ct().object,children:ct().oneOfType([ct().arrayOf(ct().node),ct().node]),defaultTitle:ct().string,defer:ct().bool,encodeSpecialCharacters:ct().bool,htmlAttributes:ct().object,link:ct().arrayOf(ct().object),meta:ct().arrayOf(ct().object),noscript:ct().arrayOf(ct().object),onChangeClientState:ct().func,script:ct().arrayOf(ct().object),style:ct().arrayOf(ct().object),title:ct().string,titleAttributes:ct().object,titleTemplate:ct().string},wr.defaultProps={defer:!0,encodeSpecialCharacters:!0},wr.peek=br.peek,wr.rewind=function(){var e=br.rewind();return e||(e=ln({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),e},xr);function dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}fn.renderStatic=fn.rewind;var hn=(0,Ue.makeStyles)((function(e){var t;return{root:(t={flexGrow:1},mn(t,e.breakpoints.down("sm"),{margin:e.spacing(.5),padding:0}),mn(t,"margin",30),mn(t,"padding",e.spacing(2)),t),card:{maxWidth:600,margin:"auto",marginTop:e.spacing(5)},title:{padding:"".concat(e.spacing(1),"px ").concat(e.spacing(3),"px"),color:e.palette.openTitle},media:{minHeight:400},github:{color:"#009688",verticalAlign:"middle"},link:{color:"inherit","&:hover":{color:"#5cdb95"}}}}));const yn=(0,_e.withRouter)((function(e){var t,r,n=e.history,o=hn(),a=(t=(0,Ce.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return dn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dn(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],c=a[1];return(0,Ce.useEffect)((function(){c(Ne());var e=n.listen((function(){c(Ne())}));return function(){e()}}),[]),Pe().createElement("div",{className:o.root},!i&&Pe().createElement(Ue.Grid,{container:!0,spacing:8},Pe().createElement(fn,null,Pe().createElement("title",null,"Social Snakes | Home")),Pe().createElement(Ue.Grid,{item:!0,xs:12},Pe().createElement(Ue.Card,{className:o.card},Pe().createElement(Ue.Typography,{variant:"h6",className:o.title},"Home Page"),Pe().createElement(Ue.CardMedia,{className:o.media,image:Fe,title:"snake"}),Pe().createElement(Ue.CardContent,null,Pe().createElement(Ue.Typography,{variant:"body2",component:"p"},Pe().createElement("a",{href:"https://github.com/snake-eaterr",target:"_blank",rel:"noreferrer",className:o.link},Pe().createElement(Ue.Icon,{className:o.github},Pe().createElement(fr,null)),Pe().createElement("span",null," Developed by snake-eaterr"))))))),i&&Pe().createElement(Ue.Grid,{container:!0,spacing:8},Pe().createElement(fn,null,Pe().createElement("title",null,"Social Snakes | ".concat(Ne().user.name))),Pe().createElement(Ue.Grid,{item:!0,xs:12,sm:12,md:7},Pe().createElement(Ht,null)),Pe().createElement(Ue.Grid,{item:!0,xs:12,sm:12,md:5},Pe().createElement(pr,null))))})),vn=require("@material-ui/core/styles"),gn=(0,ot.createSvgIcon)(Ce.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),bn=(0,ot.createSvgIcon)(Ce.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");function wn(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var En=(0,vn.makeStyles)((function(e){return{root:{maxWidth:600,margin:"auto",marginTop:e.spacing(5)},title:{padding:"".concat(e.spacing(3),"px ").concat(e.spacing(2.5),"px ").concat(e.spacing(2),"px ").concat(e.spacing(2),"px"),color:e.palette.openTitle},listItem:{paddingLeft:"".concat(e.spacing(3),"px")},link:{textDecoration:"none",color:e.palette.primary.dark},arrow:{paddingRight:"".concat(e.spacing(3),"px")}}}));const On=function(){var e,t,r=En(),n=(e=(0,Ce.useState)([]),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],a=n[1];return(0,Ce.useEffect)((function(){var e=He().CancelToken.source();return function(){var t,r=(t=regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xt(e);case 2:r=t.sent,a(r);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){wn(a,n,o,i,c,"next",e)}function c(e){wn(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}()(),function(){return e.cancel()}}),[]),Pe().createElement(Ue.Paper,{className:r.root,elevation:4},Pe().createElement(Ue.Typography,{variant:"h6",className:r.title},"All Users"),Pe().createElement(Ue.List,{dense:!0},o.map((function(e,t){return Pe().createElement(_e.Link,{className:r.link,to:"/user/".concat(e.id),key:t},Pe().createElement(Ue.ListItem,{button:!0},Pe().createElement(Ue.ListItemAvatar,{className:r.listItem},Pe().createElement(Ue.Avatar,null,Pe().createElement(gn,null))),Pe().createElement(Ue.ListItemText,{primary:e.name}),Pe().createElement(Ue.ListItemSecondaryAction,{className:r.arrow},Pe().createElement(Ue.IconButton,null,Pe().createElement(bn,null)))))}))))};function kn(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function Sn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(r),!0).forEach((function(t){Tn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var An=(0,Ue.makeStyles)((function(e){return{card:{maxWidth:600,margin:"auto",marginTop:e.spacing(5),textAlign:"center"},title:{marginTop:e.spacing(2),color:e.palette.openTitle,textAlign:"center"},textField:{width:300,marginLeft:e.spacing(2),marginRight:e.spacing(2)},submit:{margin:"auto",marginBottom:e.spacing(1)},error:{verticalAlign:"middle"}}}));const Cn=function(){var e,t,r=An(),n=(e=(0,Ce.useState)({name:"",password:"",email:"",open:!1,error:""}),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],a=n[1],i=function(e){return function(t){a(jn(jn({},o),{},Tn({},e,t.target.value)))}},c=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={name:o.name||void 0,email:o.email||void 0,password:o.password||void 0},e.prev=2,e.next=5,Jt(r);case 5:a(jn(jn({},o),{},{error:"",open:!0})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),a(jn(jn({},o),{},{error:e.t0.response.data.error}));case 11:case"end":return e.stop()}}),e,null,[[2,8]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){kn(a,n,o,i,c,"next",e)}function c(e){kn(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return Pe().createElement("div",null,Pe().createElement(Ue.Card,{className:r.card},Pe().createElement(Ue.CardContent,null,Pe().createElement(Ue.Typography,{variant:"h6",className:r.title},"Sign Up"),Pe().createElement(Ue.TextField,{id:"name",label:"Name",className:r.textField,value:o.name,onChange:i("name"),margin:"normal"}),Pe().createElement("br",null),Pe().createElement(Ue.TextField,{id:"email",type:"email",label:"Email",className:r.textField,value:o.email,onChange:i("email"),margin:"normal"}),Pe().createElement("br",null),Pe().createElement(Ue.TextField,{id:"password",type:"password",label:"Password",className:r.textField,value:o.password,onChange:i("password"),margin:"normal"}),Pe().createElement("br",null),o.error&&Pe().createElement(Ue.Typography,{component:"p",color:"error"},Pe().createElement(Ue.Icon,{color:"error",className:r.error},"error"),o.error)),Pe().createElement(Ue.CardActions,null,Pe().createElement(Ue.Button,{color:"primary",variant:"contained",onClick:c,className:r.submit},"Submit"))),Pe().createElement(Ue.Dialog,{open:o.open,disableBackdropClick:!0},Pe().createElement(Ue.DialogTitle,null,"New Account"),Pe().createElement(Ue.DialogContent,null,Pe().createElement(Ue.DialogContentText,null,"New account successfully created.")),Pe().createElement(Ue.DialogActions,null,Pe().createElement(_e.Link,{to:"/signin"},Pe().createElement(Ue.Button,{color:"primary",autoFocus:"autoFocus",variant:"contained"},"Sign In")))))};function Pn(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}var In=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He().post("".concat("/auth","/signin"),t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Pn(a,n,o,i,c,"next",e)}function c(e){Pn(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();function Bn(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function _n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(r),!0).forEach((function(t){qn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ln=(0,Ue.makeStyles)((function(e){return{card:{maxWidth:600,margin:"auto",marginTop:e.spacing(5),textAlign:"center"},title:{marginTop:e.spacing(2),color:e.palette.openTitle,textAlign:"center"},textField:{width:300,marginLeft:e.spacing(2),marginRight:e.spacing(2)},submit:{margin:"auto",marginBottom:e.spacing(1)},error:{verticalAlign:"middle"}}}));const Un=function(e){var t,r,n,o=Ln(),a=(r=(0,Ce.useState)({email:"",password:"",error:"",redirectToReferrer:!1}),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(r,n)||function(e,t){if(e){if("string"==typeof e)return Dn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dn(e,t):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],c=a[1],s=function(e){return function(t){c(Nn(Nn({},i),{},qn({},e,t.target.value)))}},u=function(){var e,r=(e=regeneratorRuntime.mark((function e(r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),n={email:i.email||void 0,password:i.password||void 0},e.prev=2,e.next=5,In(n);case 5:o=e.sent,a=o,s=function(){c(Nn(Nn({},i),{},{error:"",redirectToReferrer:!0}))},"undefined"!=typeof window&&localStorage.setItem("jwt",JSON.stringify(a)),s(),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),c(Nn(Nn({},i),{},{error:e.t0.response.data.error})),clearTimeout(t),t=setTimeout((function(){c(Nn(Nn({},i),{},{error:""}))}),7e3);case 14:case"end":return e.stop()}var a,s}),e,null,[[2,9]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Bn(a,n,o,i,c,"next",e)}function c(e){Bn(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}(),l=(e.location.state||{from:{pathname:"/"}}).from;return i.redirectToReferrer?Pe().createElement(_e.Redirect,{to:l}):Pe().createElement("div",null,Pe().createElement(Ue.Card,{className:o.card},Pe().createElement(Ue.CardContent,null,Pe().createElement(Ue.Typography,{variant:"h6",className:o.title},"Sign In"),Pe().createElement(Ue.TextField,{id:"email",type:"email",label:"Email",className:o.textField,value:i.email,onChange:s("email"),margin:"normal"}),Pe().createElement("br",null),Pe().createElement(Ue.TextField,{id:"password",type:"password",label:"Password",className:o.textField,value:i.password,onChange:s("password"),margin:"normal"}),Pe().createElement("br",null),i.error&&Pe().createElement(Ue.Typography,{component:"p",color:"error"},Pe().createElement(Ue.Icon,{color:"error",className:o.error},"error"),i.error)),Pe().createElement(Ue.CardActions,null,Pe().createElement(Ue.Button,{variant:"contained",onClick:u,className:o.submit},"Submit"))))},Fn=(0,ot.createSvgIcon)(Ce.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");function Mn(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function Hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $n=function(e){var t=e.userId,r=Hn((0,Ce.useState)(!1),2),n=r[0],o=r[1],a=Hn((0,Ce.useState)(!1),2),i=a[0],c=a[1],s=function(){o(!1)},u=function(){var e,r=(e=regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ne(),e.prev=1,e.next=4,er({userId:t},r.token);case 4:e.sent,qe((function(){return console.log("deleted")})),c(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response.data.error);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Mn(a,n,o,i,c,"next",e)}function c(e){Mn(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();return i?Pe().createElement(_e.Redirect,{to:"/"}):Pe().createElement("span",null,Pe().createElement(Ue.IconButton,{"arial-label":"Delete",onClick:function(){o(!0)},color:"secondary"},Pe().createElement(yt,null)),Pe().createElement(Ue.Dialog,{open:n,onClose:s},Pe().createElement(Ue.DialogTitle,null,"Delete Account"),Pe().createElement(Ue.DialogContent,null,Pe().createElement(Ue.DialogContentText,null,"Confirm to delete your account.")),Pe().createElement(Ue.DialogActions,null,Pe().createElement(Ue.Button,{onClick:s,color:"primary"},"Cancel"),Pe().createElement(Ue.Button,{onClick:u,color:"secondary",autoFocus:"autoFocus"},"Confirm"))))};$n.propTypes={userId:ct().string.isRequired};const Vn=$n;var Wn=(0,Ue.makeStyles)((function(e){return{button:(t={},r=e.breakpoints.down("sm"),n={padding:"".concat(e.spacing(1),"px")},r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t)};var t,r,n})),Gn=function(e){var t=Wn();return Pe().createElement("div",null,e.following?Pe().createElement(Ue.Button,{className:t.button,variant:"contained",color:"secondary",onClick:function(){e.onButtonClick(rr)}},"Unfollow"):Pe().createElement(Ue.Button,{className:t.button,variant:"contained",color:"primary",onClick:function(){e.onButtonClick(tr)}},"Follow"))};Gn.propTypes={following:ct().bool.isRequired,onButtonClick:ct().func.isRequired};const Yn=Gn;var Kn=(0,Ue.makeStyles)((function(e){return{root:{paddingTop:e.spacing(2),display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",background:e.palette.background.paper},avatar:{width:60,height:60,margin:"auto"},gridList:{width:500,height:220},tileText:{textAlign:"center",color:"white",marginTop:10}}})),Jn=function(e){var t=Kn();return Pe().createElement("div",null,Pe().createElement(Ue.GridList,{cellHeight:160,cols:4,className:t.root},e.people.map((function(e){return Pe().createElement(Ue.GridListTile,{style:{height:120},key:e.id,className:t.gridList},Pe().createElement(_e.Link,{to:"/user/".concat(e.id)},Pe().createElement(Ue.Avatar,{src:"/api/users/photo/".concat(e.id),className:t.avatar}),Pe().createElement(Ue.Typography,{color:"primary",className:t.tileText},e.name)))}))))};Jn.propTypes={people:ct().array.isRequired};const Xn=Jn;function Zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qn=function(e){var t,r,n=(t=(0,Ce.useState)(0),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Zn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zn(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],a=n[1];return Pe().createElement("div",null,Pe().createElement(Ue.AppBar,{position:"static",color:"default"},Pe().createElement(Ue.Tabs,{value:o,onChange:function(e,t){console.log(t),a(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},Pe().createElement(Ue.Tab,{label:"Posts"}),Pe().createElement(Ue.Tab,{label:"Following"}),Pe().createElement(Ue.Tab,{label:"Followers"})),0===o&&Pe().createElement(eo,null,Pe().createElement(qt,{removeUpdate:e.removePostUpdate,posts:e.posts})),1===o&&Pe().createElement(eo,null,Pe().createElement(Xn,{people:e.user.following})),2===o&&Pe().createElement(eo,null,Pe().createElement(Xn,{people:e.user.followers}))))};Qn.propTypes={user:ct().object.isRequired};var eo=function(e){return Pe().createElement(Ue.Typography,{component:"div",style:{padding:16}},e.children)};const to=Qn;var ro=function(){return(ro=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},no=function(e){var t=e.animate,r=e.backgroundColor,n=e.backgroundOpacity,o=e.baseUrl,a=e.children,i=e.foregroundColor,c=e.foregroundOpacity,s=e.gradientRatio,u=e.uniqueKey,l=e.interval,p=e.rtl,f=e.speed,d=e.style,m=e.title,h=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title"]),y=u||Math.random().toString(36).substring(6),v=y+"-diff",g=y+"-animated-diff",b=y+"-aria",w=p?{transform:"scaleX(-1)"}:null,x="0; "+l+"; 1",E=f+"s";return(0,Ce.createElement)("svg",ro({"aria-labelledby":b,role:"img",style:ro(ro({},d),w)},h),m?(0,Ce.createElement)("title",{id:b},m):null,(0,Ce.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+o+"#"+v+")",style:{fill:"url("+o+"#"+g+")"}}),(0,Ce.createElement)("defs",null,(0,Ce.createElement)("clipPath",{id:v},a),(0,Ce.createElement)("linearGradient",{id:g},(0,Ce.createElement)("stop",{offset:"0%",stopColor:r,stopOpacity:n},t&&(0,Ce.createElement)("animate",{attributeName:"offset",values:-s+"; "+-s+"; 1",keyTimes:x,dur:E,repeatCount:"indefinite"})),(0,Ce.createElement)("stop",{offset:"50%",stopColor:i,stopOpacity:c},t&&(0,Ce.createElement)("animate",{attributeName:"offset",values:-s/2+"; "+-s/2+"; "+(1+s/2),keyTimes:x,dur:E,repeatCount:"indefinite"})),(0,Ce.createElement)("stop",{offset:"100%",stopColor:r,stopOpacity:n},t&&(0,Ce.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+s),keyTimes:x,dur:E,repeatCount:"indefinite"})))))};no.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading..."};var oo=function(e){return e.children?(0,Ce.createElement)(no,ro({},e)):(0,Ce.createElement)(ao,ro({},e))},ao=function(e){return(0,Ce.createElement)(oo,ro({viewBox:"0 0 476 124"},e),(0,Ce.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,Ce.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,Ce.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,Ce.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,Ce.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,Ce.createElement)("circle",{cx:"20",cy:"20",r:"20"}))};const io=oo;function co(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function so(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?co(Object(r),!0).forEach((function(t){ho(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):co(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uo(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function lo(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){uo(a,n,o,i,c,"next",e)}function c(e){uo(a,n,o,i,c,"throw",e)}i(void 0)}))}}function po(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,t)||fo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fo(e,t){if(e){if("string"==typeof e)return mo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mo(e,t):void 0}}function mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ho(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yo(){return(yo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var vo=function(e){return Pe().createElement(io,yo({speed:1,width:600,height:100,viewBox:"0 0 600 100",backgroundColor:"#817e7e",foregroundColor:"#ecebeb"},e),Pe().createElement("rect",{x:"520",y:"166",rx:"3",ry:"3",width:"88",height:"6"}),Pe().createElement("rect",{x:"547",y:"169",rx:"3",ry:"3",width:"52",height:"6"}),Pe().createElement("rect",{x:"-106",y:"41",rx:"3",ry:"3",width:"380",height:"9"}),Pe().createElement("rect",{x:"-30",y:"60",rx:"3",ry:"3",width:"178",height:"9"}),Pe().createElement("circle",{cx:"577",cy:"171",r:"20"}))},go=(0,Ue.makeStyles)((function(e){var t;return{root:{maxWidth:600,margin:"auto",marginTop:e.spacing(5)},title:{padding:"".concat(e.spacing(3),"px ").concat(e.spacing(2.5),"px ").concat(e.spacing(2),"px ").concat(e.spacing(2),"px"),color:e.palette.openTitle},listItem:(t={},ho(t,e.breakpoints.up("md"),{paddingLift:"".concat(e.spacing(3),"px")}),ho(t,e.breakpoints.down("sm"),{paddingLift:0}),t),primary:{textAlign:"justify"},secondary:{textAlign:"justify"},link:{textDecoration:"none",color:e.palette.primary.dark},arrow:{paddingRight:"".concat(e.spacing(3),"px")},avatar:{width:60,height:60,margin:10}}}));const bo=function(){var e=go(),t=po((0,Ce.useState)([]),2),r=t[0],n=t[1],o=po((0,Ce.useState)({user:{following:[],followers:[]},following:!1,error:""}),2),a=o[0],i=o[1],c=po((0,Ce.useState)(!1),2),s=c[0],u=c[1],l=(0,_e.useParams)().userId,p=Ne(),f=a.user.id?"/api/users/photo/".concat(a.user.id,"?").concat((new Date).getTime()):"/api/users/defaultphoto";(0,Ce.useEffect)((function(){var e,t=He().CancelToken.source();return function(){var r=lo(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Zt({userId:l},p.token,t);case 3:e=r.sent,n=e.followers.some((function(e){return e.id===Ne().user.id})),i((function(t){return so(so({},t),{},{user:e,following:n})})),m(e),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),u(!0);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(){return r.apply(this,arguments)}}()(),function(){return t.cancel()}}),[l,p.token]);var d=function(){var e=lo(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({userId:p.user.id},p.token,a.user.id);case 3:r=e.sent,i(so(so({},a),{},{user:r,following:!a.following})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i(so(so({},a),{},{error:e.t0.response.data.error}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=lo(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xe({userId:t.id},p.token);case 3:r=e.sent,n(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return s?Pe().createElement(_e.Redirect,{to:"/signin"}):Pe().createElement(Ue.Paper,{className:e.root,elevation:4},Pe().createElement(fn,null,Pe().createElement("title",null,"My profile | ".concat(a.user.name))),Pe().createElement(Ue.Typography,{variant:"h6",className:e.title},"Profile"),Pe().createElement(Ue.List,{dense:!0},Pe().createElement(Ue.ListItem,null,Pe().createElement(Ue.ListItemAvatar,null,Pe().createElement(Ue.Avatar,{src:f,className:e.avatar})),Pe().createElement(Ue.ListItemText,{classes:{primary:e.primary,secondary:e.secondary},primary:a.user.name,secondary:a.user.email}),Ne().user&&Ne().user.id===a.user.id?Pe().createElement(Ue.ListItemSecondaryAction,null,Pe().createElement(_e.Link,{to:"/user/edit/".concat(a.user.id)},Pe().createElement(Ue.IconButton,{"aria-label":"Edit",color:"primary"},Pe().createElement(Fn,null))),Pe().createElement(Vn,{userId:a.user.id})):Pe().createElement(Yn,{following:a.following,onButtonClick:d})),Pe().createElement(Ue.Divider,null),Pe().createElement(Ue.ListItem,null,a.user.created?Pe().createElement(Ue.ListItemText,{primary:a.user.about,secondary:"Joined: ".concat(new Date(a.user.created).toDateString())}):Pe().createElement(vo,null))),Pe().createElement(to,{user:a.user,posts:r,removePostUpdate:function(e){var t,o=function(e){if(Array.isArray(e))return mo(e)}(t=r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||fo(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o.indexOf(e);o.splice(a,1),n(o)}}))},wo=(0,ot.createSvgIcon)(Ce.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"}),"FileCopy");function xo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Eo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xo(Object(r),!0).forEach((function(t){Oo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ko(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function So(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){ko(a,n,o,i,c,"next",e)}function c(e){ko(a,n,o,i,c,"throw",e)}i(void 0)}))}}function jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var To=(0,Ue.makeStyles)((function(e){return{card:{maxWidth:600,margin:"auto",marginTop:e.spacing(5),textAlign:"center"},title:{marginTop:e.spacing(2),color:e.palette.openTitle,textAlign:"center"},textField:{width:300,marginLeft:e.spacing(2),marginRight:e.spacing(2)},submit:{margin:"auto",marginBottom:e.spacing(1)},error:{verticalAlign:"middle"}}}));const Ro=function(){var e,t,r=To(),n=(e=(0,Ce.useState)({name:"",password:"",email:"",about:"",redirectToProfile:!1,error:"",photo:""}),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],a=n[1],i=(0,_e.useParams)().userId;(0,Ce.useEffect)((function(){var e,t=He().CancelToken.source();return function(){var r=So(regeneratorRuntime.mark((function r(){var n,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Ne(),r.prev=1,r.next=4,Zt({userId:i},n.token,t);case 4:c=r.sent,a((function(e){return Eo(Eo({},e),{},{name:c.name,email:c.email})})),r.next=13;break;case 8:r.prev=8,r.t0=r.catch(1),a((function(e){return Eo(Eo({},e),{},{error:r.t0.response.data.error})})),clearTimeout(e),e=setTimeout((function(){a(Eo(Eo({},o),{},{error:""}))}),7e3);case 13:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(){return r.apply(this,arguments)}}()(),function(){return t.cancel()}}),[i]);var c=function(){var e=So(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=Ne(),n=new FormData,o.name&&n.append("name",o.name),o.email&&n.append("email",o.email),o.password&&n.append("password",o.password),o.about&&n.append("about",o.about),o.photo&&n.append("photo",o.photo),e.prev=8,e.next=11,Qt({userId:i},r.token,n);case 11:e.sent,a(Eo(Eo({},o),{},{redirectToProfile:!0})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),a(Eo(Eo({},o),{},{error:e.t0.response.data.error}));case 18:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}(),s=function(e){return function(t){var r="photo"===e?t.target.files[0]:t.target.value;a(Eo(Eo({},o),{},Oo({},e,r)))}};return o.redirectToProfile?Pe().createElement(_e.Redirect,{to:"/user/".concat(i)}):Pe().createElement("div",null,Pe().createElement(Ue.Card,{className:r.card},Pe().createElement(Ue.CardContent,null,Pe().createElement(Ue.Typography,{variant:"h6",className:r.title},"Edit Profile"),Pe().createElement("input",{accept:"image/*",type:"file",onChange:s("photo"),style:{display:"none "},id:"icon-button-file"}),Pe().createElement("label",{htmlFor:"icon-button-file"},Pe().createElement(Ue.Button,{variant:"contained",color:"default",component:"span"},"Upload Profile Image ",Pe().createElement(wo,null))),Pe().createElement("span",{className:r.filename},o.photo?o.photo.name:""),Pe().createElement("br",null),Pe().createElement(Ue.TextField,{id:"name",label:"Name",className:r.textField,value:o.name,onChange:s("name"),margin:"normal"}),Pe().createElement("br",null),Pe().createElement(Ue.TextField,{id:"multiline-flexible",label:"About",multiline:!0,rows:"2",value:o.about,onChange:s("about"),className:r.textField}),Pe().createElement("br",null),Pe().createElement(Ue.TextField,{id:"email",type:"email",label:"Email",className:r.textField,value:o.email,onChange:s("email"),margin:"normal"}),Pe().createElement("br",null),Pe().createElement(Ue.TextField,{id:"password",type:"password",label:"Password",className:r.textField,value:o.password,onChange:s("password"),margin:"normal"}),Pe().createElement("br",null),o.error&&Pe().createElement(Ue.Typography,{component:"p",color:"error"},Pe().createElement(Ue.Icon,{color:"error",className:r.error},"error"),o.error)),Pe().createElement(Ue.CardActions,null,Pe().createElement(Ue.Button,{color:"primary",variant:"contained",onClick:c,className:r.submit},"Submit"))))},Ao=(0,ot.createSvgIcon)(Ce.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");var Co=function(e,t){return e.location.pathname===t?{color:"#5cdb95"}:{color:"#ffffff"}};const Po=(0,_e.withRouter)((function(e){var t=e.history;return Pe().createElement(Ue.AppBar,{position:"static"},Pe().createElement(Ue.Toolbar,null,Pe().createElement(Ue.Typography,{variant:"h6",color:"inherit"},"Social Snakes"),Pe().createElement(_e.Link,{to:"/"},Pe().createElement(Ue.IconButton,{"aria-label":"Home",style:Co(t,"/")},Pe().createElement(Ao,null))),!Ne()&&Pe().createElement("span",null,Pe().createElement(_e.Link,{to:"/signup"},Pe().createElement(Ue.Button,{style:Co(t,"/signup")},"Sign Up")),Pe().createElement(_e.Link,{to:"/signin"},Pe().createElement(Ue.Button,{style:Co(t,"/signin")},"Sign in"))),Ne()&&Pe().createElement("span",null,Pe().createElement(_e.Link,{to:"/user/".concat(Ne().user.id)},Pe().createElement(Ue.Button,{style:Co(t,"/user/".concat(Ne().user.id))},"My Profile")),Pe().createElement(Ue.Button,{color:"inherit",onClick:function(){return qe((function(){return t.push("/")}))}},"Sign Out"))))}));var Io=(0,Ue.makeStyles)((function(e){return{typography:{fontSize:"".concat(e.spacing(5),"px"),color:"white",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}})),Bo=function(){var e=Io();return Pe().createElement("div",null,Pe().createElement(Ue.Typography,{className:e.typography},"404 - Fellow snake, this page does not exist"))};const _o=function(){return Pe().createElement("div",null,Pe().createElement(Po,null),Pe().createElement(_e.Switch,null,Pe().createElement(_e.Route,{path:"/",exact:!0},Pe().createElement(yn,null)),Pe().createElement(_e.Route,{path:"/signin",component:Un}),Pe().createElement(_e.Route,{path:"/signup"},Pe().createElement(Cn,null)),Pe().createElement(_e.Route,{path:"/users"},Pe().createElement(On,null)),Pe().createElement(Le,{path:"/user/edit/:userId",component:Ro}),Pe().createElement(_e.Route,{path:"/user/:userId"},Pe().createElement(bo,null)),Pe().createElement(_e.Route,null,Pe().createElement(Bo,null))))},No=(0,vn.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{light:"#2e90f1",main:"#1262b3",dark:"#05386b",contrastText:"#fff"},secondary:{light:"#edf5e1",main:"#8ee4af",dark:"#5cdb95",contrastText:"#000"},openTitle:"white",protectedTitle:"white",type:"dark"}});var qo=i()();g().connect("mongodb+srv://snake:FME6LqRgUuFiPPAx@cluster0.xinfe.mongodb.net/?retryWrites=true&w=majority",{useNewUrlParser:!0,useUnifiedTopology:!0,useFindAndModify:!1,useCreateIndex:!0}).then((function(){return console.log("connected to mongodb")})).catch((function(e){console.log("error connecting to mongodb. error: ".concat(e.message))})),qo.use(f()()),qo.use(m()()),qo.get(/\.(js|css|map|ico|jpg|jpeg)$/,i().static("./build")),qo.use(i().json()),qo.use(s()()),qo.use(l()()),qo.use("/api",ae),qo.use("/auth",ce),qo.use("/api",Te),qo.get("*",(function(e,t){var r=new Ue.ServerStyleSheets,n={},o=Be().renderToString(r.collect(Pe().createElement(_e.StaticRouter,{location:e.url,context:n},Pe().createElement(Ue.ThemeProvider,{theme:No},Pe().createElement(_o,null)))));if(n.url)return t.redirect(303,n.url);var a=r.toString(),i=P().readFileSync(Ae().resolve(__dirname,"../build/index.html"),{encoding:"utf-8"});i=(i=i.replace('<div id="root"></div>','<div id="root">'.concat(o,"</div>"))).replace('<style id="jss-server-side"></style>','<style id="jss-server-side">'.concat(a,"</style>")),t.send(i)})),qo.use((function(e,t){t.status(404).json({error:"unknown endpoint"})})),qo.use((function(e,t,r,n){return console.log(e.message),"ValidationError"===e.name?r.status(400).json({error:e.message}):"UnauthorizedError"===e.name?r.status(401).json({error:e.message}):void n(e)}));const Do=qo;var Lo=o().createServer(Do),Uo=process.env.PORT||4e3;Lo.listen(Uo,(function(){console.log("server running on port ".concat(Uo))}))},949:e=>{"use strict";e.exports=require("@babel/polyfill")},357:e=>{"use strict";e.exports=require("assert")},682:e=>{"use strict";e.exports=require("debug")},605:e=>{"use strict";e.exports=require("http")},211:e=>{"use strict";e.exports=require("https")},297:e=>{"use strict";e.exports=require("react")},413:e=>{"use strict";e.exports=require("stream")},835:e=>{"use strict";e.exports=require("url")},761:e=>{"use strict";e.exports=require("zlib")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="",r(949);var n=r(117);module.exports=n})();