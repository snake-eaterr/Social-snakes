(()=>{var e={787:(e,t,r)=>{e.exports=r(352)},499:(e,t,r)=>{"use strict";var n=r(750),o=r(366),a=r(925),i=r(17),c=r(605),s=r(211),u=r(772).http,l=r(772).https,p=r(835),f=r(761),d=r(655),m=r(865),h=r(609),y=/https:?/;function v(e,t,r){if(e.hostname=t.host,e.host=t.host,e.port=t.port,e.path=r,t.auth){var n=Buffer.from(t.auth.username+":"+t.auth.password,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+n}e.beforeRedirect=function(e){e.headers.host=e.host,v(e,t,e.href)}}e.exports=function(e){return new Promise((function(t,r){var g=function(e){t(e)},b=function(e){r(e)},w=e.data,x=e.headers;if(x["User-Agent"]||x["user-agent"]||(x["User-Agent"]="axios/"+d.version),w&&!n.isStream(w)){if(Buffer.isBuffer(w));else if(n.isArrayBuffer(w))w=Buffer.from(new Uint8Array(w));else{if(!n.isString(w))return b(m("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));w=Buffer.from(w,"utf-8")}x["Content-Length"]=w.length}var E=void 0;e.auth&&(E=(e.auth.username||"")+":"+(e.auth.password||""));var O=a(e.baseURL,e.url),k=p.parse(O),S=k.protocol||"http:";if(!E&&k.auth){var j=k.auth.split(":");E=(j[0]||"")+":"+(j[1]||"")}E&&delete x.Authorization;var T=y.test(S),R=T?e.httpsAgent:e.httpAgent,A={path:i(k.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:x,agent:R,agents:{http:e.httpAgent,https:e.httpsAgent},auth:E};e.socketPath?A.socketPath=e.socketPath:(A.hostname=k.hostname,A.port=k.port);var C,P=e.proxy;if(!P&&!1!==P){var I=S.slice(0,-1)+"_proxy",_=process.env[I]||process.env[I.toUpperCase()];if(_){var B=p.parse(_),N=process.env.no_proxy||process.env.NO_PROXY,D=!0;if(N&&(D=!N.split(",").map((function(e){return e.trim()})).some((function(e){return!!e&&("*"===e||"."===e[0]&&k.hostname.substr(k.hostname.length-e.length)===e||k.hostname===e)}))),D&&(P={host:B.hostname,port:B.port,protocol:B.protocol},B.auth)){var q=B.auth.split(":");P.auth={username:q[0],password:q[1]}}}}P&&(A.headers.host=k.hostname+(k.port?":"+k.port:""),v(A,P,S+"//"+k.hostname+(k.port?":"+k.port:"")+A.path));var L=T&&(!P||y.test(P.protocol));e.transport?C=e.transport:0===e.maxRedirects?C=L?s:c:(e.maxRedirects&&(A.maxRedirects=e.maxRedirects),C=L?l:u),e.maxBodyLength>-1&&(A.maxBodyLength=e.maxBodyLength);var U=C.request(A,(function(t){if(!U.aborted){var r=t,a=t.req||U;if(204!==t.statusCode&&"HEAD"!==a.method&&!1!==e.decompress)switch(t.headers["content-encoding"]){case"gzip":case"compress":case"deflate":r=r.pipe(f.createUnzip()),delete t.headers["content-encoding"]}var i={status:t.statusCode,statusText:t.statusMessage,headers:t.headers,config:e,request:a};if("stream"===e.responseType)i.data=r,o(g,b,i);else{var c=[];r.on("data",(function(t){c.push(t),e.maxContentLength>-1&&Buffer.concat(c).length>e.maxContentLength&&(r.destroy(),b(m("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,a)))})),r.on("error",(function(t){U.aborted||b(h(t,e,null,a))})),r.on("end",(function(){var t=Buffer.concat(c);"arraybuffer"!==e.responseType&&(t=t.toString(e.responseEncoding),e.responseEncoding&&"utf8"!==e.responseEncoding||(t=n.stripBOM(t))),i.data=t,o(g,b,i)}))}}}));U.on("error",(function(t){U.aborted&&"ERR_FR_TOO_MANY_REDIRECTS"!==t.code||b(h(t,e,null,U))})),e.timeout&&U.setTimeout(e.timeout,(function(){U.abort(),b(m("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",U))})),e.cancelToken&&e.cancelToken.promise.then((function(e){U.aborted||(U.abort(),b(e))})),n.isStream(w)?w.on("error",(function(t){b(h(t,e,null,U))})).pipe(U):U.end(w)}))}},385:(e,t,r)=>{"use strict";var n=r(750),o=r(366),a=r(746),i=r(17),c=r(925),s=r(898),u=r(185),l=r(865);e.exports=function(e){return new Promise((function(t,r){var p=e.data,f=e.headers;n.isFormData(p)&&delete f["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",h=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(m+":"+h)}var y=c(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),i(y,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,a={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:e,request:d};o(t,r,a),d=null}},d.onabort=function(){d&&(r(l("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){r(l("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(l(t,e,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var v=(e.withCredentials||u(y))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;v&&(f[e.xsrfHeaderName]=v)}if("setRequestHeader"in d&&n.forEach(f,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete f[t]:d.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),r(e),d=null)})),p||(p=null),d.send(p)}))}},352:(e,t,r)=>{"use strict";var n=r(750),o=r(261),a=r(882),i=r(476);function c(e){var t=new a(e),r=o(a.prototype.request,t);return n.extend(r,a.prototype,t),n.extend(r,t),r}var s=c(r(363));s.Axios=a,s.create=function(e){return c(i(s.defaults,e))},s.Cancel=r(310),s.CancelToken=r(447),s.isCancel=r(306),s.all=function(e){return Promise.all(e)},s.spread=r(189),s.isAxiosError=r(406),e.exports=s,e.exports.default=s},310:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},447:(e,t,r)=>{"use strict";var n=r(310);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},306:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},882:(e,t,r)=>{"use strict";var n=r(750),o=r(17),a=r(734),i=r(999),c=r(476);function s(e){this.defaults=e,this.interceptors={request:new a,response:new a}}s.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=c(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[i,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},s.prototype.getUri=function(e){return e=c(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){s.prototype[e]=function(t,r){return this.request(c(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){s.prototype[e]=function(t,r,n){return this.request(c(n||{},{method:e,url:t,data:r}))}})),e.exports=s},734:(e,t,r)=>{"use strict";var n=r(750);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},925:(e,t,r)=>{"use strict";var n=r(974),o=r(684);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},865:(e,t,r)=>{"use strict";var n=r(609);e.exports=function(e,t,r,o,a){var i=new Error(e);return n(i,t,r,o,a)}},999:(e,t,r)=>{"use strict";var n=r(750),o=r(409),a=r(306),i=r(363);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return c(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(c(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},609:e=>{"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},476:(e,t,r)=>{"use strict";var n=r(750);e.exports=function(e,t){t=t||{};var r={},o=["url","method","data"],a=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],c=["validateStatus"];function s(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function u(o){n.isUndefined(t[o])?n.isUndefined(e[o])||(r[o]=s(void 0,e[o])):r[o]=s(e[o],t[o])}n.forEach(o,(function(e){n.isUndefined(t[e])||(r[e]=s(void 0,t[e]))})),n.forEach(a,u),n.forEach(i,(function(o){n.isUndefined(t[o])?n.isUndefined(e[o])||(r[o]=s(void 0,e[o])):r[o]=s(void 0,t[o])})),n.forEach(c,(function(n){n in t?r[n]=s(e[n],t[n]):n in e&&(r[n]=s(void 0,e[n]))}));var l=o.concat(a).concat(i).concat(c),p=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return n.forEach(p,u),r}},366:(e,t,r)=>{"use strict";var n=r(865);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},409:(e,t,r)=>{"use strict";var n=r(750);e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},363:(e,t,r)=>{"use strict";var n=r(750),o=r(68),a={"Content-Type":"application/x-www-form-urlencoded"};function i(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,s={adapter:("undefined"!=typeof XMLHttpRequest?c=r(385):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(c=r(499)),c),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(i(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(i(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){s.headers[e]=n.merge(a)})),e.exports=s},261:e=>{"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},17:(e,t,r)=>{"use strict";var n=r(750);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var a;if(r)a=r(t);else if(n.isURLSearchParams(t))a=t.toString();else{var i=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),i.push(o(t)+"="+o(e))})))})),a=i.join("&")}if(a){var c=e.indexOf("#");-1!==c&&(e=e.slice(0,c)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},684:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},746:(e,t,r)=>{"use strict";var n=r(750);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,a,i){var c=[];c.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),n.isString(o)&&c.push("path="+o),n.isString(a)&&c.push("domain="+a),!0===i&&c.push("secure"),document.cookie=c.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},974:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},406:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},185:(e,t,r)=>{"use strict";var n=r(750);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},68:(e,t,r)=>{"use strict";var n=r(750);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},898:(e,t,r)=>{"use strict";var n=r(750),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,a,i={};return e?(n.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=n.trim(e.substr(0,a)).toLowerCase(),r=n.trim(e.substr(a+1)),t){if(i[t]&&o.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([r]):i[t]?i[t]+", "+r:r}})),i):i}},189:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},750:(e,t,r)=>{"use strict";var n=r(261),o=Object.prototype.toString;function a(e){return"[object Array]"===o.call(e)}function i(e){return void 0===e}function c(e){return null!==e&&"object"==typeof e}function s(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===o.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:s,isUndefined:i,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return c(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function r(r,n){s(t[n])&&s(r)?t[n]=e(t[n],r):s(r)?t[n]=e({},r):a(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)l(arguments[n],r);return t},extend:function(e,t,r){return l(t,(function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},655:e=>{"use strict";e.exports=JSON.parse('{"_args":[["axios@0.21.1","/home/snake/social_snakes/client"]],"_from":"axios@0.21.1","_id":"axios@0.21.1","_inBundle":false,"_integrity":"sha512-dKQiRHxGD9PPRIUNIWvZhPTPpl1rf/OxTYKsqKUDjBwYylTvV7SjSHJb9ratfyzM6wCdLCOYLzs73qpg5c4iGA==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"axios@0.21.1","name":"axios","escapedName":"axios","rawSpec":"0.21.1","saveSpec":null,"fetchSpec":"0.21.1"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.1.tgz","_spec":"0.21.1","_where":"/home/snake/social_snakes/client","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.10.0"},"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"bundlesize":"^0.17.0","coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.0.2","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^20.1.0","grunt-karma":"^2.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.2.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^5.2.0","sinon":"^4.5.0","typescript":"^2.8.1","url-search-params":"^0.10.0","webpack":"^1.13.1","webpack-dev-server":"^1.14.1"},"homepage":"https://github.com/axios/axios","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test && bundlesize","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.1"}')},405:(e,t,r)=>{var n;e.exports=function(){if(!n)try{n=r(682)("follow-redirects")}catch(e){n=function(){}}n.apply(null,arguments)}},772:(e,t,r)=>{var n=r(835),o=n.URL,a=r(605),i=r(211),c=r(413).Writable,s=r(357),u=r(405),l=["abort","aborted","connect","error","socket","timeout"],p=Object.create(null);l.forEach((function(e){p[e]=function(t,r,n){this._redirectable.emit(e,t,r,n)}}));var f=x("ERR_FR_REDIRECTION_FAILURE",""),d=x("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),m=x("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),h=x("ERR_STREAM_WRITE_AFTER_END","write after end");function y(e,t){c.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var r=this;this._onNativeResponse=function(e){r._processResponse(e)},this._performRequest()}function v(e){var t={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(e).forEach((function(a){var i=a+":",c=r[i]=e[a],l=t[a]=Object.create(c);Object.defineProperties(l,{request:{value:function(e,a,c){if("string"==typeof e){var l=e;try{e=b(new o(l))}catch(t){e=n.parse(l)}}else o&&e instanceof o?e=b(e):(c=a,a=e,e={protocol:i});return"function"==typeof a&&(c=a,a=null),(a=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,a)).nativeProtocols=r,s.equal(a.protocol,i,"protocol mismatch"),u("options",a),new y(a,c)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,r){var n=l.request(e,t,r);return n.end(),n},configurable:!0,enumerable:!0,writable:!0}})})),t}function g(){}function b(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return""!==e.port&&(t.port=Number(e.port)),t}function w(e,t){var r;for(var n in t)e.test(n)&&(r=t[n],delete t[n]);return r}function x(e,t){function r(e){Error.captureStackTrace(this,this.constructor),this.message=e||t}return r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="Error ["+e+"]",r.prototype.code=e,r}function E(e){for(var t=0;t<l.length;t++)e.removeListener(l[t],p[l[t]]);e.on("error",g),e.abort()}y.prototype=Object.create(c.prototype),y.prototype.abort=function(){E(this._currentRequest),this.emit("abort")},y.prototype.write=function(e,t,r){if(this._ending)throw new h;if(!("string"==typeof e||"object"==typeof e&&"length"in e))throw new TypeError("data should be a string, Buffer or Uint8Array");"function"==typeof t&&(r=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new m),this.abort()):r&&r()},y.prototype.end=function(e,t,r){if("function"==typeof e?(r=e,e=t=null):"function"==typeof t&&(r=t,t=null),e){var n=this,o=this._currentRequest;this.write(e,t,(function(){n._ended=!0,o.end(null,null,r)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,r)},y.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},y.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},y.prototype.setTimeout=function(e,t){var r=this;function n(t){t.setTimeout(e),t.removeListener("timeout",t.destroy),t.addListener("timeout",t.destroy)}function o(t){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout((function(){r.emit("timeout"),a()}),e),n(t)}function a(){clearTimeout(this._timeout),t&&r.removeListener("timeout",t),this.socket||r._currentRequest.removeListener("socket",o)}return t&&this.on("timeout",t),this.socket?o(this.socket):this._currentRequest.once("socket",o),this.on("socket",n),this.once("response",a),this.once("error",a),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){y.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(y.prototype,e,{get:function(){return this._currentRequest[e]}})})),y.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},y.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var r=e.substr(0,e.length-1);this._options.agent=this._options.agents[r]}var o=this._currentRequest=t.request(this._options,this._onNativeResponse);this._currentUrl=n.format(this._options),o._redirectable=this;for(var a=0;a<l.length;a++)o.on(l[a],p[l[a]]);if(this._isRedirect){var i=0,c=this,s=this._requestBodyBuffers;!function e(t){if(o===c._currentRequest)if(t)c.emit("error",t);else if(i<s.length){var r=s[i++];o.finished||o.write(r.data,r.encoding,e)}else c._ended&&o.end()}()}}else this.emit("error",new TypeError("Unsupported protocol "+e))},y.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var r=e.headers.location;if(r&&!1!==this._options.followRedirects&&t>=300&&t<400){if(E(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new d);((301===t||302===t)&&"POST"===this._options.method||303===t&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],w(/^content-/i,this._options.headers));var o=w(/^host$/i,this._options.headers)||n.parse(this._currentUrl).hostname,a=n.resolve(this._currentUrl,r);u("redirecting to",a),this._isRedirect=!0;var i=n.parse(a);if(Object.assign(this._options,i),i.hostname!==o&&w(/^authorization$/i,this._options.headers),"function"==typeof this._options.beforeRedirect){var c={headers:e.headers};try{this._options.beforeRedirect.call(null,this._options,c)}catch(e){return void this.emit("error",e)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(e){var s=new f("Redirected request failed: "+e.message);s.cause=e,this.emit("error",s)}}else e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[]},e.exports=v({http:a,https:i}),e.exports.wrap=v},977:e=>{var t="undefined"!=typeof Element,r="function"==typeof Map,n="function"==typeof Set,o="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,i){if(e===i)return!0;if(e&&i&&"object"==typeof e&&"object"==typeof i){if(e.constructor!==i.constructor)return!1;var c,s,u,l;if(Array.isArray(e)){if((c=e.length)!=i.length)return!1;for(s=c;0!=s--;)if(!a(e[s],i[s]))return!1;return!0}if(r&&e instanceof Map&&i instanceof Map){if(e.size!==i.size)return!1;for(l=e.entries();!(s=l.next()).done;)if(!i.has(s.value[0]))return!1;for(l=e.entries();!(s=l.next()).done;)if(!a(s.value[1],i.get(s.value[0])))return!1;return!0}if(n&&e instanceof Set&&i instanceof Set){if(e.size!==i.size)return!1;for(l=e.entries();!(s=l.next()).done;)if(!i.has(s.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(i)){if((c=e.length)!=i.length)return!1;for(s=c;0!=s--;)if(e[s]!==i[s])return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===i.toString();if((c=(u=Object.keys(e)).length)!==Object.keys(i).length)return!1;for(s=c;0!=s--;)if(!Object.prototype.hasOwnProperty.call(i,u[s]))return!1;if(t&&e instanceof Element)return!1;for(s=c;0!=s--;)if(("_owner"!==u[s]&&"__v"!==u[s]&&"__o"!==u[s]||!e.$$typeof)&&!a(e[u[s]],i[u[s]]))return!1;return!0}return e!=e&&i!=i}e.exports=function(e,t){try{return a(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},640:(e,t,r)=>{"use strict";var n,o=r(297),a=(n=o)&&"object"==typeof n&&"default"in n?n.default:n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,r){if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==r&&"function"!=typeof r)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(n){if("function"!=typeof n)throw new Error("Expected WrappedComponent to be a React component.");var s,u=[];function l(){s=e(u.map((function(e){return e.props}))),p.canUseDOM?t(s):r&&(s=r(s))}var p=function(e){var t,r;function o(){return e.apply(this,arguments)||this}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.peek=function(){return s},o.rewind=function(){if(o.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=s;return s=void 0,u=[],e};var i=o.prototype;return i.UNSAFE_componentWillMount=function(){u.push(this),l()},i.componentDidUpdate=function(){l()},i.componentWillUnmount=function(){var e=u.indexOf(this);u.splice(e,1),l()},i.render=function(){return a.createElement(n,this.props)},o}(o.PureComponent);return i(p,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(n)+")"),i(p,"canUseDOM",c),p}}},146:(e,t,r)=>{"use strict";r.r(t);var n=r(605),o=r.n(n);const a=require("express");var i=r.n(a);const c=require("cookie-parser");var s=r.n(c);const u=require("compression");var l=r.n(u);const p=require("cors");var f=r.n(p);const d=require("helmet");var m=r.n(d);const h=require("dotenv");r.n(h)().config(),process.env.PORT;const y="fakdfjdksafjasdfjasdkfjasdkjfasdkfjsdf",v=require("mongoose");var g=r.n(v);const b=require("mongoose-unique-validator");var w=r.n(b);const x=require("bcrypt");var E=r.n(x);function O(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function k(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){O(a,n,o,i,c,"next",e)}function c(e){O(a,n,o,i,c,"throw",e)}i(void 0)}))}}var S=new(g().Schema)({name:{type:String,trim:!0,required:"Name is required"},email:{type:String,trim:!0,unique:"Email already exists",match:[/.+\@.+\..+/,"Please fill a valid email address"],required:"Email is required"},created:{type:Date,default:Date.now},updated:Date,passwordHash:{type:String,minlength:5,required:!0},about:{type:String,trim:!0},photo:{data:Buffer,contentType:String},followers:[{type:g().Schema.Types.ObjectId,ref:"User"}],following:[{type:g().Schema.Types.ObjectId,ref:"User"}]});S.plugin(w()),S.pre("save",function(){var e=k(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isModified("passwordHash")){e.next=2;break}return e.abrupt("return",t());case 2:return e.next=4,E().hash(this.passwordHash,10);case 4:r=e.sent,this.passwordHash=r,t();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),S.set("toJSON",{transform:function(e,t){t.id=t._id.toString(),delete t._id,delete t.__v,delete t.passwordHash}}),S.methods.comparePasswords=function(){var e=k(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E().compare(t,this.passwordHash));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();const j=g().model("User",S),T=require("lodash"),R=(require("express-async-errors"),require("formidable"));var A=r.n(R);const C=require("fs");var P=r.n(C);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function D(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){N(a,n,o,i,c,"next",e)}function c(e){N(a,n,o,i,c,"throw",e)}i(void 0)}))}}var q=function(){var e=D(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body,o=new j(_(_({},n),{},{passwordHash:n.password})),e.next=4,o.save();case 4:return e.abrupt("return",r.status(200).json({message:"Successfully signed up!"}));case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),L=function(){var e=D(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.find({});case 2:n=e.sent,r.json(n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),U=function(){var e=D(regeneratorRuntime.mark((function e(t,r,n,o){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.findById(o).populate("followers","_id, name").populate("following","_id name").exec();case 2:if(a=e.sent){e.next=5;break}return e.abrupt("return",r.status(400).json({error:"User not found"}));case 5:t.profile=a,n();case 7:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}(),F=function(){var e=D(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.json(t.profile));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),M=function(){var e=D(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=new(A().IncomingForm)).keepExtensions=!0,n.parse(t,function(){var e=D(regeneratorRuntime.mark((function e(n,o,a){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=2;break}return e.abrupt("return",r.status(400).json({error:"Photo could not be uploaded"}));case 2:return i=t.profile,(i=(0,T.extend)(i,o)).updated=Date.now(),a.photo&&(i.photo.data=P().readFileSync(a.photo.path),i.photo.contentType=a.photo.type),e.next=8,i.save();case 8:r.json(i);case 9:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),H=function(){var e=D(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.profile,e.next=3,n.remove();case 3:o=e.sent,r.json(o);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),z=function(){var e=D(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.profile.photo.data){e.next=3;break}return r.set("Content-Type",t.profile.photo.contentType),e.abrupt("return",r.send(t.profile.photo.data));case 3:n();case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),$=function(){var e=D(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.sendFile("".concat(process.cwd(),"/controllers/profile-pic.png")));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),W=function(){var e=D(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.findByIdAndUpdate(t.auth.id,{$addToSet:{following:t.body.followId}});case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),G=function(){var e=D(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.findByIdAndUpdate(t.body.followId,{$addToSet:{followers:t.auth.id}},{new:!0}).populate("following","_id name").populate("followers","_id name").exec();case 2:n=e.sent,r.json(n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),V=function(){var e=D(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.findByIdAndUpdate(t.auth.id,{$pull:{following:t.body.unfollowId}});case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Y=function(){var e=D(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.findByIdAndUpdate(t.body.unfollowId,{$pull:{followers:t.auth.id}},{new:!0}).populate("following","_id name").populate("followers","_id name").exec();case 2:n=e.sent,r.json(n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();const K={create:q,list:L,userByID:U,read:F,update:M,remove:H,photo:z,defaultPhoto:$,findPeople:function(){var e=D(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t.profile.following).push(t.profile._id),e.next=4,j.find({_id:{$nin:n}}).select("name");case 4:o=e.sent,r.json(o);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),addFollowing:W,addFollower:G,removeFollowing:V,removeFollower:Y},J=require("jsonwebtoken");var X=r.n(J);const Z=require("express-jwt");var Q=r.n(Z);function ee(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}const te={signin:function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r){var n,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body,e.next=3,j.findOne({email:n.email});case 3:if(o=e.sent){e.next=6;break}return e.abrupt("return",r.status(401).json({error:"wrong credentials"}));case 6:return e.next=8,o.comparePasswords(n.password);case 8:if(e.sent){e.next=11;break}return e.abrupt("return",r.status(401).json({error:"wrong credentials"}));case 11:return a=X().sign({id:o._id},y),r.cookie("t",a,{expire:new Date+9999}),e.abrupt("return",r.json({token:a,user:{id:o._id,name:o.name,email:o.email}}));case 14:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){ee(a,n,o,i,c,"next",e)}function c(e){ee(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),signout:function(e,t){return t.clearCookie("t"),t.status(200).json({message:"signed out"})},requireSigin:Q()({secret:y,algorithms:["HS256"],userProperty:"auth"}),hasAuthorization:function(e,t,r){if(!e.profile||!e.auth||e.profile._id!=e.auth.id)return t.status(403).json({error:"User is not authorized"});r()}};var re=i().Router();re.route("/users").get(K.list).post(K.create),re.route("/users/defaultphoto").get(K.defaultPhoto),re.route("/users/follow").put(te.requireSigin,K.addFollowing,K.addFollower),re.route("/users/unfollow").put(te.requireSigin,K.removeFollowing,K.removeFollower),re.route("/users/:userId").get(te.requireSigin,K.read).put(te.requireSigin,te.hasAuthorization,K.update).delete(te.requireSigin,te.hasAuthorization,K.remove),re.route("/users/photo/:userId").get(K.photo,K.defaultPhoto),re.route("/users/findpeople/:userId").get(te.requireSigin,K.findPeople),re.param("userId",K.userByID);const ne=re;var oe=i().Router();oe.route("/signin").post(te.signin),oe.route("/signout").get(te.signout);const ae=oe;var ie=new(g().Schema)({text:{type:String,required:"Text is required"},photo:{data:Buffer,contentType:String},postedBy:{type:g().Schema.Types.ObjectId,ref:"User"},created:{type:Date,default:Date.now},likes:[{type:g().Schema.Types.ObjectId,ref:"User"}],comments:[{text:String,created:{type:Date,default:Date.now},postedBy:{type:g().Schema.Types.ObjectId,ref:"User"}}]});ie.set("toJSON",{transform:function(e,t){t.id=t._id.toString(),delete t._id,delete t.__v}});const ce=g().model("Post",ie);function se(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function ue(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){se(a,n,o,i,c,"next",e)}function c(e){se(a,n,o,i,c,"throw",e)}i(void 0)}))}}var le=function(){var e=ue(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t.profile.following).push(t.profile._id),e.next=4,ce.find({postedBy:{$in:n}}).populate("comments.postedBy","_id name").populate("postedBy","_id name").sort("-created").exec();case 4:o=e.sent,r.json(o);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),pe=function(){var e=ue(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.find({postedBy:t.profile._id}).populate("comments.postedBy","_id name").populate("postedBy","_id name").sort("-created").exec();case 2:n=e.sent,r.json(n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),fe=function(){var e=ue(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.set("Content-Type",t.post.photo.contentType),e.abrupt("return",r.send(t.post.photo.data));case 2:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),de=function(){var e=ue(regeneratorRuntime.mark((function e(t,r,n,o){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.findById(o).populate("postedBy","_id name").exec();case 2:if(a=e.sent){e.next=5;break}return e.abrupt("return",r.status(400).json({error:"Post not found "}));case 5:t.post=a,n();case 7:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}(),me=function(){var e=ue(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.post&&t.auth&&t.post.postedBy._id==t.auth.id){e.next=3;break}return e.abrupt("return",r.status(403).json({error:"User is not authorized"}));case 3:n();case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),he=function(){var e=ue(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.findByIdAndRemove(t.post._id);case 2:return e.abrupt("return",r.status(204).end());case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ye=function(){var e=ue(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.findByIdAndUpdate(t.body.postId,{$addToSet:{likes:t.auth.id}},{new:!0});case 2:n=e.sent,r.json(n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ve=function(){var e=ue(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.findByIdAndUpdate(t.body.postId,{$pull:{likes:t.auth.id}},{new:!0});case 2:n=e.sent,r.json(n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ge=function(){var e=ue(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t.body.comment).postedBy=t.auth.id,e.next=4,ce.findByIdAndUpdate(t.body.postId,{$addToSet:{comments:n}},{new:!0}).populate("comments.postedBy","_id name").populate("postedBy","_id name").exec();case 4:o=e.sent,r.json(o);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),be=function(){var e=ue(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t.auth.id,t.body.comment.postedBy.id),t.body.comment&&t.auth.id&&t.body.comment.postedBy.id===t.auth.id){e.next=4;break}return e.abrupt("return",r.status(403).json({error:"User is not authorized"}));case 4:n();case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),we=function(){var e=ue(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body.comment,e.next=3,ce.findByIdAndUpdate(t.body.postId,{$pull:{comments:{_id:n._id}}},{new:!0}).populate("comments.postedBy","_id name").populate("postedBy","_id name").exec();case 3:o=e.sent,r.json(o);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();const xe={listNewsfeed:le,listByUser:pe,create:function(e,t,r){var n=new(A().IncomingForm);n.keepExtensions=!0,n.parse(e,function(){var r=ue(regeneratorRuntime.mark((function r(n,o,a){var i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n){r.next=2;break}return r.abrupt("return",t.status(400).json({error:"Image could not be uploaded"}));case 2:return(i=new ce(o)).postedBy=e.auth.id,a.photo&&(i.photo.data=P().readFileSync(a.photo.path),i.photo.contentType=a.photo.type),r.next=7,i.save();case 7:t.json(i);case 8:case"end":return r.stop()}}),r)})));return function(e,t,n){return r.apply(this,arguments)}}())},photo:fe,postByID:de,isPoster:me,remove:he,like:ye,unlike:ve,isCommentor:be,comment:ge,uncomment:we};var Ee=i().Router();Ee.route("/posts/like").put(te.requireSigin,xe.like),Ee.route("/posts/unlike").put(te.requireSigin,xe.unlike),Ee.route("/posts/comment").put(te.requireSigin,xe.comment),Ee.route("/posts/uncomment").put(te.requireSigin,xe.isCommentor,xe.uncomment),Ee.route("/posts/feed/:userId").get(te.requireSigin,xe.listNewsfeed),Ee.route("/posts/by/:userId").get(te.requireSigin,xe.listByUser),Ee.route("/posts/new/:userId").post(te.requireSigin,xe.create),Ee.route("/posts/photo/:postId").get(xe.photo),Ee.route("/posts/:postId").delete(te.requireSigin,xe.isPoster,xe.remove),Ee.param("userId",K.userByID),Ee.param("postId",xe.postByID);const Oe=Ee,ke=require("path");var Se=r.n(ke),je=r(297),Te=r.n(je);const Re=require("react-dom/server");var Ae=r.n(Re);const Ce=require("react-router-dom"),Pe=function(){if("undefined"!=typeof window)return!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt"))},Ie=function(e){"undefined"!=typeof window&&localStorage.removeItem("jwt"),e()};function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}const Be=function(e){var t=e.component,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["component"]);return Te().createElement(Ce.Route,_e({},r,{render:function(e){return Pe()?Te().createElement(t,e):Te().createElement(Ce.Redirect,{to:{pathname:"/signin",state:{from:e.location}}})}}))},Ne=require("@material-ui/core"),De=r.p+"6e0c9acd65e925fbad35a6ce96eb9bf0.jpeg";var qe=r(787),Le=r.n(qe);const Ue=function(e){return{headers:{Authorization:"Bearer ".concat(e)}}};function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach((function(t){He(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function He(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ze(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function $e(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){ze(a,n,o,i,c,"next",e)}function c(e){ze(a,n,o,i,c,"throw",e)}i(void 0)}))}}var We="/api/posts",Ge=function(){var e=$e(regeneratorRuntime.mark((function e(t,r,n){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Ue(r),e.next=3,Le().get("".concat(We,"/feed/").concat(t.userId),Me(Me({},o),{},{cancelToken:n.token}));case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Ve=function(){var e=$e(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ue(r),e.next=3,Le().get("".concat(We,"/by/").concat(t.userId),n);case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ye=function(){var e=$e(regeneratorRuntime.mark((function e(t,r,n){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Ue(r),e.next=3,Le().post("".concat(We,"/new/").concat(t.userId),n,o);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Ke=function(){var e=$e(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ue(r),e.next=3,Le().delete("".concat(We,"/").concat(t.postId),n);case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Je=function(){var e=$e(regeneratorRuntime.mark((function e(t,r,n){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Ue(r),e.next=3,Le().put("".concat(We,"/like"),{userId:t.userId,postId:n},o);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Xe=function(){var e=$e(regeneratorRuntime.mark((function e(t,r,n){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Ue(r),e.next=3,Le().put("".concat(We,"/unlike"),{userId:t.userId,postId:n},o);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Ze=function(){var e=$e(regeneratorRuntime.mark((function e(t,r,n,o){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ue(r),console.log("DEBUGG",Ze),e.next=4,Le().put("".concat(We,"/comment"),{userId:t.userId,postId:n,comment:o},a);case 4:return i=e.sent,e.abrupt("return",i.data);case 6:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}(),Qe=function(){var e=$e(regeneratorRuntime.mark((function e(t,r,n,o){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ue(r),e.next=3,Le().put("".concat(We,"/uncomment"),{userId:t.userId,postId:n,comment:o},a);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}();const et=require("@material-ui/core/utils"),tt=(0,et.createSvgIcon)(je.createElement(je.Fragment,null,je.createElement("circle",{cx:"12",cy:"12",r:"3.2"}),je.createElement("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})),"PhotoCamera"),rt=require("prop-types");var nt=r.n(rt);function ot(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){ct(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ct(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ut=(0,Ne.makeStyles)((function(e){return{root:{backgroundColor:e.palette.primary,padding:"".concat(e.spacing(3),"px 0px 1px")},card:{maxWidth:600,margin:"auto",marginBottom:e.spacing(3),backgroundColor:"rgba(65, 150, 136, 0.09)",boxShadow:"none"},cardContent:{backgroundColor:e.palette.secondary,paddingTop:0,paddingBottom:0},cardHeader:{paddingTop:8,paddingBottom:8},textField:{width:"90%",marginLeft:e.spacing(2),marginRight:e.spacing(2)},input:{display:"none"},photoButton:{height:30,marginBottom:5},submit:{margin:e.spacing(2)},filename:{verticalAlign:"super"}}})),lt=function(e){var t,r,n=ut(),o=(t=(0,je.useState)({text:"",photo:"",error:"",user:{}}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return st(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?st(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],i=o[1];(0,je.useEffect)((function(){i((function(e){return it(it({},e),{},{user:Pe().user})}))}),[]);var c=Pe(),s=function(){var t,r=(t=regeneratorRuntime.mark((function t(r){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),(n=new FormData).append("text",a.text),n.append("photo",a.photo),t.prev=4,t.next=7,Ye({userId:c.user.id},c.token,n);case 7:o=t.sent,i(it(it({},a),{},{text:"",photo:""})),e.addUpdate(o),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),i(it(it({},a),{},{error:t.t0.response.data.error}));case 15:case"end":return t.stop()}}),t,null,[[4,12]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){ot(a,n,o,i,c,"next",e)}function c(e){ot(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}(),u=function(e){return function(t){var r="photo"===e?t.target.files[0]:t.target.value;i(it(it({},a),{},ct({},e,r)))}},l=a.user.id?"/api/users/photo/".concat(a.user.id," "):"/api/users/defaultphoto";return Te().createElement("div",{className:n.root},Te().createElement(Ne.Card,{className:n.card},Te().createElement(Ne.CardHeader,{avatar:Te().createElement(Ne.Avatar,{src:l}),title:a.user.name,className:n.cardHeader}),Te().createElement(Ne.CardContent,{className:n.cardContent},Te().createElement(Ne.TextField,{placeholder:"Share your thoughts...",className:n.textField,multiline:!0,rows:"3",value:a.text,onChange:u("text"),margin:"normal"}),Te().createElement("input",{accept:"image/*",onChange:u("photo"),className:n.input,id:"icon-button-file",type:"file"}),Te().createElement("label",{htmlFor:"icon-button-file"},Te().createElement(Ne.IconButton,{color:"secondary",className:n.photoButton,component:"span"},Te().createElement(tt,null))),Te().createElement("span",{className:n.filename},a.photo?a.photo.name:""),a.error&&Te().createElement(Ne.Typography,{component:"p",color:"error"},Te().createElement(Ne.Icon,{color:"error",className:n.error},"error"),a.error)),Te().createElement(Ne.CardActions,null,Te().createElement(Ne.Button,{color:"primary",variant:"contained",disabled:""===a.text,onClick:s,className:n.submit},"POST"))))};lt.propTypes={addUpdate:nt().func.isRequired};const pt=lt,ft=(0,et.createSvgIcon)(je.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),dt=(0,et.createSvgIcon)(je.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite"),mt=(0,et.createSvgIcon)(je.createElement("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder"),ht=(0,et.createSvgIcon)(je.createElement("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"}),"Comment");function yt(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function vt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){yt(a,n,o,i,c,"next",e)}function c(e){yt(a,n,o,i,c,"throw",e)}i(void 0)}))}}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var bt=(0,Ne.makeStyles)((function(e){return{cardHeader:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},smallAvatar:{width:25,height:25},commentField:{width:"96%"},commentText:{backgroundColor:e.palette.secondary,padding:e.spacing(1),margin:"2px ".concat(e.spacing(2),"px 2px 2px")},commentDate:{display:"block",color:"rgba(255, 255, 255, 0.349)",fontSize:"0.8em"},commentDelete:{fontSize:"1.6em",verticalAlign:"middle",cursor:"pointer"}}})),wt=function(e){var t,r,n=bt(),o=(t=(0,je.useState)(""),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return gt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gt(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],i=o[1],c=Pe(),s=function(){var t=vt(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(13!==r.keyCode||!r.target.value){t.next=13;break}return r.preventDefault(),t.prev=2,t.next=5,Ze({userId:c.user.id},c.token,e.postId,{text:a});case 5:n=t.sent,i(""),e.updateComments(n.comments),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0.response.data.error);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}(),u=function(t){return function(){var r=vt(regeneratorRuntime.mark((function r(n){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Qe({userId:c.user.id},c.token,e.postId,t);case 3:o=r.sent,e.updateComments(o.comments),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.log(r.t0.response.data.error);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},l=function(e){return Te().createElement("p",{className:n.commentText},Te().createElement(Ce.Link,{to:"/user/".concat(e.postedBy.id),style:{color:"white"}},e.postedBy.name),Te().createElement("br",null),e.text,Te().createElement("span",{className:n.commentDate},new Date(e.created).toDateString()," | ",Pe().user.id===e.postedBy.id&&Te().createElement(Ne.Icon,{onClick:u(e),className:n.commentDelete},"delete")))};return Te().createElement("div",null,Te().createElement(Ne.CardHeader,{avatar:Te().createElement(Ne.Avatar,{className:n.smallAvatar,src:"/api/users/photo/".concat(Pe().user.id)}),title:Te().createElement(Ne.TextField,{onKeyDown:s,multiline:!0,value:a,onChange:function(e){i(e.target.value)},placeholder:"Write something...",className:n.commentField,margin:"normal"}),className:n.cardHeader}),e.comments.map((function(e,t){return Te().createElement(Ne.CardHeader,{avatar:Te().createElement(Ne.Avatar,{className:n.smallAvatar,src:"/api/users/photo/".concat(e.postedBy.id)}),title:l(e),className:n.cardHeader,key:t})})))};wt.proptTypes={postId:nt().string.isRequired,comments:nt().array.isRequired,updatedComments:nt().func.isRequired};const xt=wt;function Et(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function Ot(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Et(a,n,o,i,c,"next",e)}function c(e){Et(a,n,o,i,c,"throw",e)}i(void 0)}))}}function kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(r),!0).forEach((function(t){jt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Rt=(0,Ne.makeStyles)((function(e){return{card:{maxWidth:600,margin:"auto",backgroundColor:"rgba(65, 150, 136, 0.1)",marginBottom:e.spacing(3)},cardHeader:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},cardContent:{backgroundColor:e.palette.primary,padding:"".concat(e.spacing(2),"px 0px")},text:{margin:e.spacing(2)},photo:{textAlign:"center",backgroundColor:"#f2f5f4",padding:e.spacing(1)},media:{width:"100%",height:"auto"},button:{margin:e.spacing(1)},link:{color:"white"}}})),At=function(e){var t,r,n,o=Rt(),a=Pe(),i=(r=(0,je.useState)({like:(t=e.post.likes,-1!==t.indexOf(a.user.id)),likesCount:e.post.likes.length,comments:e.post.comments}),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(r,n)||function(e,t){if(e){if("string"==typeof e)return Tt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tt(e,t):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0],s=i[1],u=function(){var t=Ot(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ke({postId:e.post.id},a.token);case 3:e.onRemove(e.post),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0.response.data.error);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=Ot(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.like?Xe:Je,t.prev=1,t.next=4,r({userId:a.user.id},a.token,e.post.id);case 4:n=t.sent,s(St(St({},c),{},{like:!c.like,likes:n.likes.length})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0.response.data.error);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();return Te().createElement(Ne.Card,{className:o.card},Te().createElement(Ne.CardHeader,{avatar:Te().createElement(Ne.Avatar,{src:"/api/users/photo/".concat(e.post.postedBy.id)}),action:e.post.postedBy.id===Pe().user.id&&Te().createElement(Ne.IconButton,{onClick:u},Te().createElement(ft,null)),title:Te().createElement(Ce.Link,{to:"/user/".concat(e.post.postedBy.id),className:o.link},e.post.postedBy.name),subheader:new Date(e.post.created).toDateString(),className:o.cardHeader}),Te().createElement(Ne.CardContent,{className:o.cardContent},Te().createElement(Ne.Typography,{component:"p",className:o.text},e.post.text),e.post.photo&&Te().createElement("div",{className:o.photo},Te().createElement("img",{src:"/api/posts/photo/".concat(e.post.id),alt:"post",className:o.media}))),Te().createElement(Ne.CardActions,null,c.like?Te().createElement(Ne.IconButton,{onClick:l,className:o.button,"aria-label":"Like",color:"secondary"},Te().createElement(dt,null)):Te().createElement(Ne.IconButton,{onClick:l,className:o.button,"aria-label":"Unlike",color:"secondary"},Te().createElement(mt,null)),Te().createElement("span",null,c.likes),Te().createElement(Ne.IconButton,{className:o.button,"aria-label":"Comment",color:"secondary"},Te().createElement(ht,null)),Te().createElement("span",null,c.comments.length)),Te().createElement(Ne.Divider,null),Te().createElement(xt,{postId:e.post.id,comments:c.comments,updateComments:function(e){console.log("here"),s(St(St({},c),{},{comments:e}))}}))};At.propTypes={post:nt().object.isRequired,onRemove:nt().func.isRequired};const Ct=At;var Pt=function(e){return Te().createElement("div",{style:{marginTop:"24px"}},e.posts.map((function(t,r){return Te().createElement(Ct,{post:t,key:r,onRemove:e.removeUpdate})})))};Pt.propTypes={posts:nt().array.isRequired,removeUpdate:nt().func.isRequired};const It=Pt;function _t(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function Bt(e){return function(e){if(Array.isArray(e))return Dt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Nt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){if(e){if("string"==typeof e)return Dt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dt(e,t):void 0}}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qt=(0,Ne.makeStyles)((function(e){return{card:{margin:"auto",paddingTop:0,paddingBottom:e.spacing(3)},title:{padding:"".concat(e.spacing(3),"px ").concat(e.spacing(2.5),"px ").concat(e.spacing(2),"px"),color:e.palette.openTitle,fontSize:"1em"}}}));const Lt=function(){var e,t,r=qt(),n=(e=(0,je.useState)([]),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,t)||Nt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],a=n[1],i=Pe();return(0,je.useEffect)((function(){var e=Le().CancelToken.source();return function(){var t,r=(t=regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ge({userId:i.user.id},i.token,e);case 3:r=t.sent,a(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){_t(a,n,o,i,c,"next",e)}function c(e){_t(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}()(),function(){return e.cancel()}}),[i.token,i.user.id]),Te().createElement(Ne.Card,{className:r.card},Te().createElement(Ne.Typography,{type:"title",className:r.title},"Newsfeed"),Te().createElement(Ne.Divider,null),Te().createElement(pt,{addUpdate:function(e){var t=Bt(o);t.unshift(e),a(t)}}),Te().createElement(Ne.Divider,null),Te().createElement(It,{removeUpdate:function(e){var t=Bt(o),r=t.indexOf(e);t.splice(r,1),a(t)},posts:o}))},Ut=(0,et.createSvgIcon)(je.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEye");function Ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(r),!0).forEach((function(t){Ht(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ht(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zt(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function $t(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){zt(a,n,o,i,c,"next",e)}function c(e){zt(a,n,o,i,c,"throw",e)}i(void 0)}))}}var Wt="/api/users",Gt=function(){var e=$t(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le().post(Wt,t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vt=function(){var e=$t(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le().get(Wt,{cancelToken:t.token});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yt=function(){var e=$t(regeneratorRuntime.mark((function e(t,r,n){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Ue(r),e.next=3,Le().get("".concat(Wt,"/").concat(t.userId),Mt(Mt({},o),{},{cancelToken:n.token}));case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Kt=function(){var e=$t(regeneratorRuntime.mark((function e(t,r,n){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Ue(r),e.next=3,Le().put("".concat(Wt,"/").concat(t.userId),n,o);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Jt=function(){var e=$t(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ue(r),e.next=3,Le().delete("".concat(Wt,"/").concat(t.userId),n);case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Xt=function(){var e=$t(regeneratorRuntime.mark((function e(t,r,n){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Ue(r),e.next=3,Le().put("".concat(Wt,"/follow"),{userId:t.userId,followId:n},o);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Zt=function(){var e=$t(regeneratorRuntime.mark((function e(t,r,n){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Ue(r),e.next=3,Le().put("".concat(Wt,"/unfollow"),{userId:t.userId,unfollowId:n},o);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Qt=function(){var e=$t(regeneratorRuntime.mark((function e(t,r,n){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Ue(r),e.next=3,Le().get("".concat(Wt,"/findpeople/").concat(t.userId),Mt(Mt({},o),{},{cancelToken:n.token}),o);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();function er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?er(Object(r),!0).forEach((function(t){rr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):er(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nr(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function or(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){nr(a,n,o,i,c,"next",e)}function c(e){nr(a,n,o,i,c,"throw",e)}i(void 0)}))}}function ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ir=(0,Ne.makeStyles)((function(e){return{root:{padding:e.spacing(1),margin:0},title:{margin:"".concat(e.spacing(3),"px ").concat(e.spacing(1),"px ").concat(e.spacing(2),"px"),color:e.palette.openTitle,fontSize:"1em"},avatar:{marginRight:e.spacing(1)},snack:{color:e.palette.protectedTitle}}}));const cr=function(){var e,t,r=ir(),n=(e=(0,je.useState)({users:[],open:!1,followMessage:""}),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ar(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ar(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],a=n[1],i=Pe();(0,je.useEffect)((function(){var e=Le().CancelToken.source();return function(){var t=or(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Qt({userId:i.user.id},i.token,e);case 3:r=t.sent,a((function(e){return tr(tr({},e),{},{users:r})})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0,"here");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()(),function(){return e.cancel()}}),[i.token,i.user.id]);var c=function(){var e=or(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xt({userId:i.user.id},i.token,t.id);case 3:e.sent,(n=o.users).splice(r,1),a(tr(tr({},o),{},{users:n,open:!0,followMessage:"Following ".concat(t.name,"!")})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data.error);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}();return Te().createElement("div",null,Te().createElement(Ne.Paper,{className:r.root,elevation:4},Te().createElement(Ne.Typography,{type:"title",className:r.title},"Who to Follow"),Te().createElement(Ne.List,null,o.users.map((function(e,t){return Te().createElement("span",{key:t},Te().createElement(Ne.ListItem,null,Te().createElement(Ne.ListItemAvatar,null,Te().createElement(Ne.Avatar,{className:r.avatar,src:"/api/users/photo/".concat(e.id)})),Te().createElement(Ne.ListItemText,{primary:e.name}),Te().createElement(Ne.ListItemSecondaryAction,null,Te().createElement(Ce.Link,{to:"/user/".concat(e.id)},Te().createElement(Ne.IconButton,{variant:"contained",color:"secondary"},Te().createElement(Ut,null))),Te().createElement(Ne.Button,{"aria-label":"Follow",variant:"contained",color:"primary",onClick:function(){return c(e,t)}},"Follow"))))})))),Te().createElement(Ne.Snackbar,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:o.open,onClose:function(e,t){a(tr(tr({},o),{},{open:!1}))},authoHideDuration:6e3,message:Te().createElement("span",{className:r.snack},o.followMessage)}))},sr=(0,et.createSvgIcon)(je.createElement("path",{d:"M12 .3a12 12 0 0 0-3.8 23.4c.6.1.8-.3.8-.6v-2c-3.3.7-4-1.6-4-1.6-.6-1.4-1.4-1.8-1.4-1.8-1-.7.1-.7.1-.7 1.2 0 1.9 1.2 1.9 1.2 1 1.8 2.8 1.3 3.5 1 0-.8.4-1.3.7-1.6-2.7-.3-5.5-1.3-5.5-6 0-1.2.5-2.3 1.3-3.1-.2-.4-.6-1.6 0-3.2 0 0 1-.3 3.4 1.2a11.5 11.5 0 0 1 6 0c2.3-1.5 3.3-1.2 3.3-1.2.6 1.6.2 2.8 0 3.2.9.8 1.3 1.9 1.3 3.2 0 4.6-2.8 5.6-5.5 5.9.5.4.9 1 .9 2.2v3.3c0 .3.1.7.8.6A12 12 0 0 0 12 .3"}),"GitHub");var ur=r(640),lr=r.n(ur),pr=r(977),fr=r.n(pr);const dr=require("object-assign");var mr,hr,yr,vr,gr=r.n(dr),br="bodyAttributes",wr="htmlAttributes",xr={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},Er=(Object.keys(xr).map((function(e){return xr[e]})),"charset"),Or="cssText",kr="href",Sr="innerHTML",jr="itemprop",Tr="rel",Rr={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ar=Object.keys(Rr).reduce((function(e,t){return e[Rr[t]]=t,e}),{}),Cr=[xr.NOSCRIPT,xr.SCRIPT,xr.STYLE],Pr="data-react-helmet",Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Br=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dr=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},qr=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Lr=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Ur=function(e){var t=$r(e,xr.TITLE),r=$r(e,"titleTemplate");if(r&&t)return r.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var n=$r(e,"defaultTitle");return t||n||void 0},Fr=function(e){return $r(e,"onChangeClientState")||function(){}},Mr=function(e,t){return t.filter((function(t){return void 0!==t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return Nr({},e,t)}),{})},Hr=function(e,t){return t.filter((function(e){return void 0!==e[xr.BASE]})).map((function(e){return e[xr.BASE]})).reverse().reduce((function(t,r){if(!t.length)for(var n=Object.keys(r),o=0;o<n.length;o++){var a=n[o].toLowerCase();if(-1!==e.indexOf(a)&&r[a])return t.concat(r)}return t}),[])},zr=function(e,t,r){var n={};return r.filter((function(t){return!!Array.isArray(t[e])||(void 0!==t[e]&&Kr("Helmet: "+e+' should be of type "Array". Instead found type "'+Ir(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,r){var o={};r.filter((function(e){for(var r=void 0,a=Object.keys(e),i=0;i<a.length;i++){var c=a[i],s=c.toLowerCase();-1===t.indexOf(s)||r===Tr&&"canonical"===e[r].toLowerCase()||s===Tr&&"stylesheet"===e[s].toLowerCase()||(r=s),-1===t.indexOf(c)||c!==Sr&&c!==Or&&c!==jr||(r=c)}if(!r||!e[r])return!1;var u=e[r].toLowerCase();return n[r]||(n[r]={}),o[r]||(o[r]={}),!n[r][u]&&(o[r][u]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var a=Object.keys(o),i=0;i<a.length;i++){var c=a[i],s=gr()({},n[c],o[c]);n[c]=s}return e}),[]).reverse()},$r=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(n.hasOwnProperty(t))return n[t]}return null},Wr=(mr=Date.now(),function(e){var t=Date.now();t-mr>16?(mr=t,e(t)):setTimeout((function(){Wr(e)}),0)}),Gr=function(e){return clearTimeout(e)},Vr="undefined"!=typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Wr:global.requestAnimationFrame||Wr,Yr="undefined"!=typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Gr:global.cancelAnimationFrame||Gr,Kr=function(e){return console&&"function"==typeof console.warn&&console.warn(e)},Jr=null,Xr=function(e,t){var r=e.baseTag,n=e.bodyAttributes,o=e.htmlAttributes,a=e.linkTags,i=e.metaTags,c=e.noscriptTags,s=e.onChangeClientState,u=e.scriptTags,l=e.styleTags,p=e.title,f=e.titleAttributes;en(xr.BODY,n),en(xr.HTML,o),Qr(p,f);var d={baseTag:tn(xr.BASE,r),linkTags:tn(xr.LINK,a),metaTags:tn(xr.META,i),noscriptTags:tn(xr.NOSCRIPT,c),scriptTags:tn(xr.SCRIPT,u),styleTags:tn(xr.STYLE,l)},m={},h={};Object.keys(d).forEach((function(e){var t=d[e],r=t.newTags,n=t.oldTags;r.length&&(m[e]=r),n.length&&(h[e]=d[e].oldTags)})),t&&t(),s(e,m,h)},Zr=function(e){return Array.isArray(e)?e.join(""):e},Qr=function(e,t){void 0!==e&&document.title!==e&&(document.title=Zr(e)),en(xr.TITLE,t)},en=function(e,t){var r=document.getElementsByTagName(e)[0];if(r){for(var n=r.getAttribute(Pr),o=n?n.split(","):[],a=[].concat(o),i=Object.keys(t),c=0;c<i.length;c++){var s=i[c],u=t[s]||"";r.getAttribute(s)!==u&&r.setAttribute(s,u),-1===o.indexOf(s)&&o.push(s);var l=a.indexOf(s);-1!==l&&a.splice(l,1)}for(var p=a.length-1;p>=0;p--)r.removeAttribute(a[p]);o.length===a.length?r.removeAttribute(Pr):r.getAttribute(Pr)!==i.join(",")&&r.setAttribute(Pr,i.join(","))}},tn=function(e,t){var r=document.head||document.querySelector(xr.HEAD),n=r.querySelectorAll(e+"[data-react-helmet]"),o=Array.prototype.slice.call(n),a=[],i=void 0;return t&&t.length&&t.forEach((function(t){var r=document.createElement(e);for(var n in t)if(t.hasOwnProperty(n))if(n===Sr)r.innerHTML=t.innerHTML;else if(n===Or)r.styleSheet?r.styleSheet.cssText=t.cssText:r.appendChild(document.createTextNode(t.cssText));else{var c=void 0===t[n]?"":t[n];r.setAttribute(n,c)}r.setAttribute(Pr,"true"),o.some((function(e,t){return i=t,r.isEqualNode(e)}))?o.splice(i,1):a.push(r)})),o.forEach((function(e){return e.parentNode.removeChild(e)})),a.forEach((function(e){return r.appendChild(e)})),{oldTags:o,newTags:a}},rn=function(e){return Object.keys(e).reduce((function(t,r){var n=void 0!==e[r]?r+'="'+e[r]+'"':""+r;return t?t+" "+n:n}),"")},nn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,r){return t[Rr[r]||r]=e[r],t}),t)},on=function(e,t,r){switch(e){case xr.TITLE:return{toComponent:function(){return e=t.title,r=t.titleAttributes,(n={key:e})[Pr]=!0,o=nn(r,n),[Te().createElement(xr.TITLE,o,e)];var e,r,n,o},toString:function(){return function(e,t,r,n){var o=rn(r),a=Zr(t);return o?"<"+e+' data-react-helmet="true" '+o+">"+Lr(a,n)+"</"+e+">":"<"+e+' data-react-helmet="true">'+Lr(a,n)+"</"+e+">"}(e,t.title,t.titleAttributes,r)}};case br:case wr:return{toComponent:function(){return nn(t)},toString:function(){return rn(t)}};default:return{toComponent:function(){return function(e,t){return t.map((function(t,r){var n,o=((n={key:r})[Pr]=!0,n);return Object.keys(t).forEach((function(e){var r=Rr[e]||e;if(r===Sr||r===Or){var n=t.innerHTML||t.cssText;o.dangerouslySetInnerHTML={__html:n}}else o[r]=t[e]})),Te().createElement(e,o)}))}(e,t)},toString:function(){return function(e,t,r){return t.reduce((function(t,n){var o=Object.keys(n).filter((function(e){return!(e===Sr||e===Or)})).reduce((function(e,t){var o=void 0===n[t]?t:t+'="'+Lr(n[t],r)+'"';return e?e+" "+o:o}),""),a=n.innerHTML||n.cssText||"",i=-1===Cr.indexOf(e);return t+"<"+e+' data-react-helmet="true" '+o+(i?"/>":">"+a+"</"+e+">")}),"")}(e,t,r)}}}},an=function(e){var t=e.baseTag,r=e.bodyAttributes,n=e.encode,o=e.htmlAttributes,a=e.linkTags,i=e.metaTags,c=e.noscriptTags,s=e.scriptTags,u=e.styleTags,l=e.title,p=void 0===l?"":l,f=e.titleAttributes;return{base:on(xr.BASE,t,n),bodyAttributes:on(br,r,n),htmlAttributes:on(wr,o,n),link:on(xr.LINK,a,n),meta:on(xr.META,i,n),noscript:on(xr.NOSCRIPT,c,n),script:on(xr.SCRIPT,s,n),style:on(xr.STYLE,u,n),title:on(xr.TITLE,{title:p,titleAttributes:f},n)}},cn=lr()((function(e){return{baseTag:Hr([kr,"target"],e),bodyAttributes:Mr(br,e),defer:$r(e,"defer"),encode:$r(e,"encodeSpecialCharacters"),htmlAttributes:Mr(wr,e),linkTags:zr(xr.LINK,[Tr,kr],e),metaTags:zr(xr.META,["name",Er,"http-equiv","property",jr],e),noscriptTags:zr(xr.NOSCRIPT,[Sr],e),onChangeClientState:Fr(e),scriptTags:zr(xr.SCRIPT,["src",Sr],e),styleTags:zr(xr.STYLE,[Or],e),title:Ur(e),titleAttributes:Mr("titleAttributes",e)}}),(function(e){Jr&&Yr(Jr),e.defer?Jr=Vr((function(){Xr(e,(function(){Jr=null}))})):(Xr(e),Jr=null)}),an)((function(){return null})),sn=(hr=cn,vr=yr=function(e){function t(){return _r(this,t),qr(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return!fr()(this.props,e)},t.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case xr.SCRIPT:case xr.NOSCRIPT:return{innerHTML:t};case xr.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},t.prototype.flattenArrayTypeChildren=function(e){var t,r=e.child,n=e.arrayTypeChildren,o=e.newChildProps,a=e.nestedChildren;return Nr({},n,((t={})[r.type]=[].concat(n[r.type]||[],[Nr({},o,this.mapNestedChildrenToProps(r,a))]),t))},t.prototype.mapObjectTypeChildren=function(e){var t,r,n=e.child,o=e.newProps,a=e.newChildProps,i=e.nestedChildren;switch(n.type){case xr.TITLE:return Nr({},o,((t={})[n.type]=i,t.titleAttributes=Nr({},a),t));case xr.BODY:return Nr({},o,{bodyAttributes:Nr({},a)});case xr.HTML:return Nr({},o,{htmlAttributes:Nr({},a)})}return Nr({},o,((r={})[n.type]=Nr({},a),r))},t.prototype.mapArrayTypeChildrenToProps=function(e,t){var r=Nr({},t);return Object.keys(e).forEach((function(t){var n;r=Nr({},r,((n={})[t]=e[t],n))})),r},t.prototype.warnOnInvalidChildren=function(e,t){return!0},t.prototype.mapChildrenToProps=function(e,t){var r=this,n={};return Te().Children.forEach(e,(function(e){if(e&&e.props){var o=e.props,a=o.children,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,r){return t[Ar[r]||r]=e[r],t}),t)}(Dr(o,["children"]));switch(r.warnOnInvalidChildren(e,a),e.type){case xr.LINK:case xr.META:case xr.NOSCRIPT:case xr.SCRIPT:case xr.STYLE:n=r.flattenArrayTypeChildren({child:e,arrayTypeChildren:n,newChildProps:i,nestedChildren:a});break;default:t=r.mapObjectTypeChildren({child:e,newProps:t,newChildProps:i,nestedChildren:a})}}})),t=this.mapArrayTypeChildrenToProps(n,t)},t.prototype.render=function(){var e=this.props,t=e.children,r=Dr(e,["children"]),n=Nr({},r);return t&&(n=this.mapChildrenToProps(t,n)),Te().createElement(hr,n)},Br(t,null,[{key:"canUseDOM",set:function(e){hr.canUseDOM=e}}]),t}(Te().Component),yr.propTypes={base:nt().object,bodyAttributes:nt().object,children:nt().oneOfType([nt().arrayOf(nt().node),nt().node]),defaultTitle:nt().string,defer:nt().bool,encodeSpecialCharacters:nt().bool,htmlAttributes:nt().object,link:nt().arrayOf(nt().object),meta:nt().arrayOf(nt().object),noscript:nt().arrayOf(nt().object),onChangeClientState:nt().func,script:nt().arrayOf(nt().object),style:nt().arrayOf(nt().object),title:nt().string,titleAttributes:nt().object,titleTemplate:nt().string},yr.defaultProps={defer:!0,encodeSpecialCharacters:!0},yr.peek=hr.peek,yr.rewind=function(){var e=hr.rewind();return e||(e=an({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),e},vr);function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ln(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}sn.renderStatic=sn.rewind;var pn=(0,Ne.makeStyles)((function(e){var t;return{root:(t={flexGrow:1},ln(t,e.breakpoints.down("sm"),{margin:e.spacing(.5),padding:0}),ln(t,"margin",30),ln(t,"padding",e.spacing(2)),t),card:{maxWidth:600,margin:"auto",marginTop:e.spacing(5)},title:{padding:"".concat(e.spacing(1),"px ").concat(e.spacing(3),"px"),color:e.palette.openTitle},media:{minHeight:400},github:{color:"#009688",verticalAlign:"middle"},link:{color:"inherit","&:hover":{color:"#5cdb95"}}}}));const fn=(0,Ce.withRouter)((function(e){var t,r,n=e.history,o=pn(),a=(t=(0,je.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return un(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?un(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],c=a[1];return(0,je.useEffect)((function(){c(Pe());var e=n.listen((function(){c(Pe())}));return function(){e()}}),[]),Te().createElement("div",{className:o.root},!i&&Te().createElement(Ne.Grid,{container:!0,spacing:8},Te().createElement(sn,null,Te().createElement("title",null,"Social Snakes | Home")),Te().createElement(Ne.Grid,{item:!0,xs:12},Te().createElement(Ne.Card,{className:o.card},Te().createElement(Ne.Typography,{variant:"h6",className:o.title},"Home Page"),Te().createElement(Ne.CardMedia,{className:o.media,image:De,title:"snake"}),Te().createElement(Ne.CardContent,null,Te().createElement(Ne.Typography,{variant:"body2",component:"p"},Te().createElement("a",{href:"https://github.com/snake-eaterr",target:"_blank",rel:"noreferrer",className:o.link},Te().createElement(Ne.Icon,{className:o.github},Te().createElement(sr,null)),Te().createElement("span",null," Developed by snake-eaterr"))))))),i&&Te().createElement(Ne.Grid,{container:!0,spacing:8},Te().createElement(sn,null,Te().createElement("title",null,"Social Snakes | ".concat(Pe().user.name))),Te().createElement(Ne.Grid,{item:!0,xs:12,sm:12,md:7},Te().createElement(Lt,null)),Te().createElement(Ne.Grid,{item:!0,xs:12,sm:12,md:5},Te().createElement(cr,null))))})),dn=require("@material-ui/core/styles"),mn=(0,et.createSvgIcon)(je.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),hn=(0,et.createSvgIcon)(je.createElement("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");function yn(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gn=(0,dn.makeStyles)((function(e){return{root:{maxWidth:600,margin:"auto",marginTop:e.spacing(5)},title:{padding:"".concat(e.spacing(3),"px ").concat(e.spacing(2.5),"px ").concat(e.spacing(2),"px ").concat(e.spacing(2),"px"),color:e.palette.openTitle},listItem:{paddingLeft:"".concat(e.spacing(3),"px")},link:{textDecoration:"none",color:e.palette.primary.dark},arrow:{paddingRight:"".concat(e.spacing(3),"px")}}}));const bn=function(){var e,t,r=gn(),n=(e=(0,je.useState)([]),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],a=n[1];return(0,je.useEffect)((function(){var e=Le().CancelToken.source();return function(){var t,r=(t=regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Vt(e);case 2:r=t.sent,a(r);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){yn(a,n,o,i,c,"next",e)}function c(e){yn(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}()(),function(){return e.cancel()}}),[]),Te().createElement(Ne.Paper,{className:r.root,elevation:4},Te().createElement(Ne.Typography,{variant:"h6",className:r.title},"All Users"),Te().createElement(Ne.List,{dense:!0},o.map((function(e,t){return Te().createElement(Ce.Link,{className:r.link,to:"/user/".concat(e.id),key:t},Te().createElement(Ne.ListItem,{button:!0},Te().createElement(Ne.ListItemAvatar,{className:r.listItem},Te().createElement(Ne.Avatar,null,Te().createElement(mn,null))),Te().createElement(Ne.ListItemText,{primary:e.name}),Te().createElement(Ne.ListItemSecondaryAction,{className:r.arrow},Te().createElement(Ne.IconButton,null,Te().createElement(hn,null)))))}))))};function wn(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(r),!0).forEach((function(t){On(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function On(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Sn=(0,Ne.makeStyles)((function(e){return{card:{maxWidth:600,margin:"auto",marginTop:e.spacing(5),textAlign:"center"},title:{marginTop:e.spacing(2),color:e.palette.openTitle,textAlign:"center"},textField:{width:300,marginLeft:e.spacing(2),marginRight:e.spacing(2)},submit:{margin:"auto",marginBottom:e.spacing(1)},error:{verticalAlign:"middle"}}}));const jn=function(){var e,t,r=Sn(),n=(e=(0,je.useState)({name:"",password:"",email:"",open:!1,error:""}),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],a=n[1],i=function(e){return function(t){a(En(En({},o),{},On({},e,t.target.value)))}},c=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={name:o.name||void 0,email:o.email||void 0,password:o.password||void 0},e.prev=2,e.next=5,Gt(r);case 5:a(En(En({},o),{},{error:"",open:!0})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),a(En(En({},o),{},{error:e.t0.response.data.error}));case 11:case"end":return e.stop()}}),e,null,[[2,8]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){wn(a,n,o,i,c,"next",e)}function c(e){wn(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return Te().createElement("div",null,Te().createElement(Ne.Card,{className:r.card},Te().createElement(Ne.CardContent,null,Te().createElement(Ne.Typography,{variant:"h6",className:r.title},"Sign Up"),Te().createElement(Ne.TextField,{id:"name",label:"Name",className:r.textField,value:o.name,onChange:i("name"),margin:"normal"}),Te().createElement("br",null),Te().createElement(Ne.TextField,{id:"email",type:"email",label:"Email",className:r.textField,value:o.email,onChange:i("email"),margin:"normal"}),Te().createElement("br",null),Te().createElement(Ne.TextField,{id:"password",type:"password",label:"Password",className:r.textField,value:o.password,onChange:i("password"),margin:"normal"}),Te().createElement("br",null),o.error&&Te().createElement(Ne.Typography,{component:"p",color:"error"},Te().createElement(Ne.Icon,{color:"error",className:r.error},"error"),o.error)),Te().createElement(Ne.CardActions,null,Te().createElement(Ne.Button,{color:"primary",variant:"contained",onClick:c,className:r.submit},"Submit"))),Te().createElement(Ne.Dialog,{open:o.open,disableBackdropClick:!0},Te().createElement(Ne.DialogTitle,null,"New Account"),Te().createElement(Ne.DialogContent,null,Te().createElement(Ne.DialogContentText,null,"New account successfully created.")),Te().createElement(Ne.DialogActions,null,Te().createElement(Ce.Link,{to:"/signin"},Te().createElement(Ne.Button,{color:"primary",autoFocus:"autoFocus",variant:"contained"},"Sign In")))))};function Tn(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}var Rn=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le().post("".concat("/auth","/signin"),t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Tn(a,n,o,i,c,"next",e)}function c(e){Tn(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();function An(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function Cn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(r),!0).forEach((function(t){In(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function In(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Bn=(0,Ne.makeStyles)((function(e){return{card:{maxWidth:600,margin:"auto",marginTop:e.spacing(5),textAlign:"center"},title:{marginTop:e.spacing(2),color:e.palette.openTitle,textAlign:"center"},textField:{width:300,marginLeft:e.spacing(2),marginRight:e.spacing(2)},submit:{margin:"auto",marginBottom:e.spacing(1)},error:{verticalAlign:"middle"}}}));const Nn=function(e){var t,r,n=Bn(),o=(t=(0,je.useState)({email:"",password:"",error:"",redirectToReferrer:!1}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return _n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_n(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],i=o[1],c=function(e){return function(t){i(Pn(Pn({},a),{},In({},e,t.target.value)))}},s=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={email:a.email||void 0,password:a.password||void 0},e.prev=2,e.next=5,Rn(r);case 5:n=e.sent,o=n,c=function(){i(Pn(Pn({},a),{},{error:"",redirectToReferrer:!0}))},"undefined"!=typeof window&&localStorage.setItem("jwt",JSON.stringify(o)),c(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),i(Pn(Pn({},a),{},{error:e.t0.response.data.error}));case 12:case"end":return e.stop()}var o,c}),e,null,[[2,9]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){An(a,n,o,i,c,"next",e)}function c(e){An(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),u=(e.location.state||{from:{pathname:"/"}}).from;return a.redirectToReferrer?Te().createElement(Ce.Redirect,{to:u}):Te().createElement("div",null,Te().createElement(Ne.Card,{className:n.card},Te().createElement(Ne.CardContent,null,Te().createElement(Ne.Typography,{variant:"h6",className:n.title},"Sign In"),Te().createElement(Ne.TextField,{id:"email",type:"email",label:"Email",className:n.textField,value:a.email,onChange:c("email"),margin:"normal"}),Te().createElement("br",null),Te().createElement(Ne.TextField,{id:"password",type:"password",label:"Password",className:n.textField,value:a.password,onChange:c("password"),margin:"normal"}),Te().createElement("br",null),a.error&&Te().createElement(Ne.Typography,{component:"p",color:"error"},Te().createElement(Ne.Icon,{color:"error",className:n.error},"error"),a.error)),Te().createElement(Ne.CardActions,null,Te().createElement(Ne.Button,{color:"primary",variant:"contained",onClick:s,className:n.submit},"Submit"))))},Dn=(0,et.createSvgIcon)(je.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");function qn(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function Ln(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Un(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Un(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Un(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Fn=function(e){var t=e.userId,r=Ln((0,je.useState)(!1),2),n=r[0],o=r[1],a=Ln((0,je.useState)(!1),2),i=a[0],c=a[1],s=function(){o(!1)},u=function(){var e,r=(e=regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pe(),e.prev=1,e.next=4,Jt({userId:t},r.token);case 4:e.sent,Ie((function(){return console.log("deleted")})),c(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response.data.error);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){qn(a,n,o,i,c,"next",e)}function c(e){qn(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();return i?Te().createElement(Ce.Redirect,{to:"/"}):Te().createElement("span",null,Te().createElement(Ne.IconButton,{"arial-label":"Delete",onClick:function(){o(!0)},color:"secondary"},Te().createElement(ft,null)),Te().createElement(Ne.Dialog,{open:n,onClose:s},Te().createElement(Ne.DialogTitle,null,"Delete Account"),Te().createElement(Ne.DialogContent,null,Te().createElement(Ne.DialogContentText,null,"Confirm to delete your account.")),Te().createElement(Ne.DialogActions,null,Te().createElement(Ne.Button,{onClick:s,color:"primary"},"Cancel"),Te().createElement(Ne.Button,{onClick:u,color:"secondary",autoFocus:"autoFocus"},"Confirm"))))};Fn.propTypes={userId:nt().string.isRequired};const Mn=Fn;var Hn=(0,Ne.makeStyles)((function(e){return{button:(t={},r=e.breakpoints.down("sm"),n={padding:"".concat(e.spacing(1),"px")},r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t)};var t,r,n})),zn=function(e){var t=Hn();return Te().createElement("div",null,e.following?Te().createElement(Ne.Button,{className:t.button,variant:"contained",color:"secondary",onClick:function(){e.onButtonClick(Zt)}},"Unfollow"):Te().createElement(Ne.Button,{className:t.button,variant:"contained",color:"primary",onClick:function(){e.onButtonClick(Xt)}},"Follow"))};zn.propTypes={following:nt().bool.isRequired,onButtonClick:nt().func.isRequired};const $n=zn;var Wn=(0,Ne.makeStyles)((function(e){return{root:{paddingTop:e.spacing(2),display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",background:e.palette.background.paper},avatar:{width:60,height:60,margin:"auto"},gridList:{width:500,height:220},tileText:{textAlign:"center",color:"white",marginTop:10}}})),Gn=function(e){var t=Wn();return Te().createElement("div",null,Te().createElement(Ne.GridList,{cellHeight:160,cols:4,className:t.root},e.people.map((function(e,r){return Te().createElement(Ne.GridListTile,{style:{height:120},key:r,className:t.gridList},Te().createElement(Ce.Link,{to:"/user/".concat(e.id)},Te().createElement(Ne.Avatar,{src:"/api/users/photo/".concat(e.id),className:t.avatar}),Te().createElement(Ne.Typography,{color:"primary",className:t.tileText},e.name)))}))))};Gn.propTypes={people:nt().array.isRequired};const Vn=Gn;function Yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Kn=function(e){var t,r,n=(t=(0,je.useState)(0),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Yn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yn(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],a=n[1];return Te().createElement("div",null,Te().createElement(Ne.AppBar,{position:"static",color:"default"},Te().createElement(Ne.Tabs,{value:o,onChange:function(e,t){console.log(t),a(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},Te().createElement(Ne.Tab,{label:"Posts"}),Te().createElement(Ne.Tab,{label:"Following"}),Te().createElement(Ne.Tab,{label:"Followers"})),0===o&&Te().createElement(Jn,null,Te().createElement(It,{removeUpdate:e.removePostUpdate,posts:e.posts})),1===o&&Te().createElement(Jn,null,Te().createElement(Vn,{people:e.user.following})),2===o&&Te().createElement(Jn,null,Te().createElement(Vn,{people:e.user.followers}))))};Kn.propTypes={user:nt().object.isRequired};var Jn=function(e){return Te().createElement(Ne.Typography,{component:"div",style:{padding:16}},e.children)};const Xn=Kn;function Zn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(r),!0).forEach((function(t){ao(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function eo(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function to(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){eo(a,n,o,i,c,"next",e)}function c(e){eo(a,n,o,i,c,"throw",e)}i(void 0)}))}}function ro(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,t)||no(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function no(e,t){if(e){if("string"==typeof e)return oo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oo(e,t):void 0}}function oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ao(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var io=(0,Ne.makeStyles)((function(e){var t;return{root:{maxWidth:600,margin:"auto",marginTop:e.spacing(5)},title:{padding:"".concat(e.spacing(3),"px ").concat(e.spacing(2.5),"px ").concat(e.spacing(2),"px ").concat(e.spacing(2),"px"),color:e.palette.openTitle},listItem:(t={},ao(t,e.breakpoints.up("md"),{paddingLift:"".concat(e.spacing(3),"px")}),ao(t,e.breakpoints.down("sm"),{paddingLift:0}),t),primary:{textAlign:"justify"},secondary:{textAlign:"justify"},link:{textDecoration:"none",color:e.palette.primary.dark},arrow:{paddingRight:"".concat(e.spacing(3),"px")},avatar:{width:60,height:60,margin:10}}}));const co=function(){var e=io(),t=ro((0,je.useState)([]),2),r=t[0],n=t[1],o=ro((0,je.useState)({user:{following:[],followers:[]},following:!1,error:""}),2),a=o[0],i=o[1],c=ro((0,je.useState)(!1),2),s=c[0],u=c[1],l=(0,Ce.useParams)().userId,p=Pe(),f=a.user.id?"/api/users/photo/".concat(a.user.id,"?").concat((new Date).getTime()):"/api/users/defaultphoto";(0,je.useEffect)((function(){var e,t=Le().CancelToken.source();return function(){var r=to(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Yt({userId:l},p.token,t);case 3:e=r.sent,n=e.followers.some((function(e){return e.id===Pe().user.id})),i((function(t){return Qn(Qn({},t),{},{user:e,following:n})})),m(e),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),u(!0);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(){return r.apply(this,arguments)}}()(),function(){return t.cancel()}}),[l,p.token]);var d=function(){var e=to(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t({userId:p.user.id},p.token,a.user.id);case 3:r=e.sent,i(Qn(Qn({},a),{},{user:r,following:!a.following})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i(Qn(Qn({},a),{},{error:e.t0.response.data.error}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=to(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ve({userId:t.id},p.token);case 3:r=e.sent,n(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return s?Te().createElement(Ce.Redirect,{to:"/signin"}):Te().createElement(Ne.Paper,{className:e.root,elevation:4},Te().createElement(sn,null,Te().createElement("title",null,"My profile | ".concat(a.user.name))),Te().createElement(Ne.Typography,{variant:"h6",className:e.title},"Profile"),Te().createElement(Ne.List,{dense:!0},Te().createElement(Ne.ListItem,null,Te().createElement(Ne.ListItemAvatar,null,Te().createElement(Ne.Avatar,{src:f,className:e.avatar})),Te().createElement(Ne.ListItemText,{classes:{primary:e.primary,secondary:e.secondary},primary:a.user.name,secondary:a.user.email}),Pe().user&&Pe().user.id===a.user.id?Te().createElement(Ne.ListItemSecondaryAction,null,Te().createElement(Ce.Link,{to:"/user/edit/".concat(a.user.id)},Te().createElement(Ne.IconButton,{"aria-label":"Edit",color:"primary"},Te().createElement(Dn,null))),Te().createElement(Mn,{userId:a.user.id})):Te().createElement($n,{following:a.following,onButtonClick:d})),Te().createElement(Ne.Divider,null),Te().createElement(Ne.ListItem,null,Te().createElement(Ne.ListItemText,{secondary:"Joined: ".concat(new Date(a.user.created).toDateString()),primary:a.user.about}))),Te().createElement(Xn,{user:a.user,posts:r,removePostUpdate:function(e){var t,o=function(e){if(Array.isArray(e))return oo(e)}(t=r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||no(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o.indexOf(e);o.splice(a,1),n(o)}}))},so=(0,et.createSvgIcon)(je.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"}),"FileCopy");function uo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(r),!0).forEach((function(t){po(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function po(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fo(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function mo(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){fo(a,n,o,i,c,"next",e)}function c(e){fo(a,n,o,i,c,"throw",e)}i(void 0)}))}}function ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yo=(0,Ne.makeStyles)((function(e){return{card:{maxWidth:600,margin:"auto",marginTop:e.spacing(5),textAlign:"center"},title:{marginTop:e.spacing(2),color:e.palette.openTitle,textAlign:"center"},textField:{width:300,marginLeft:e.spacing(2),marginRight:e.spacing(2)},submit:{margin:"auto",marginBottom:e.spacing(1)},error:{verticalAlign:"middle"}}}));const vo=function(){var e,t,r=yo(),n=(e=(0,je.useState)({name:"",password:"",email:"",about:"",redirectToProfile:!1,error:"",photo:""}),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ho(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ho(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],a=n[1],i=(0,Ce.useParams)().userId;(0,je.useEffect)((function(){var e=Le().CancelToken.source();return function(){var t=mo(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Pe(),t.prev=1,t.next=4,Yt({userId:i},r.token,e);case 4:n=t.sent,a((function(e){return lo(lo({},e),{},{name:n.name,email:n.email})})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a((function(e){return lo(lo({},e),{},{error:t.t0.response.data.error})}));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}()(),function(){return e.cancel()}}),[i]);var c=function(){var e=mo(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=Pe(),n=new FormData,o.name&&n.append("name",o.name),o.email&&n.append("email",o.email),o.password&&n.append("password",o.password),o.about&&n.append("about",o.about),o.photo&&n.append("photo",o.photo),e.prev=8,e.next=11,Kt({userId:i},r.token,n);case 11:e.sent,a(lo(lo({},o),{},{redirectToProfile:!0})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),a(lo(lo({},o),{},{error:e.t0.response.data.error}));case 18:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}(),s=function(e){return function(t){var r="photo"===e?t.target.files[0]:t.target.value;a(lo(lo({},o),{},po({},e,r)))}};return o.redirectToProfile?Te().createElement(Ce.Redirect,{to:"/user/".concat(i)}):Te().createElement("div",null,Te().createElement(Ne.Card,{className:r.card},Te().createElement(Ne.CardContent,null,Te().createElement(Ne.Typography,{variant:"h6",className:r.title},"Edit Profile"),Te().createElement("input",{accept:"image/*",type:"file",onChange:s("photo"),style:{display:"none "},id:"icon-button-file"}),Te().createElement("label",{htmlFor:"icon-button-file"},Te().createElement(Ne.Button,{variant:"contained",color:"default",component:"span"},"Upload Profile Image ",Te().createElement(so,null))),Te().createElement("span",{className:r.filename},o.photo?o.photo.name:""),Te().createElement("br",null),Te().createElement(Ne.TextField,{id:"name",label:"Name",className:r.textField,value:o.name,onChange:s("name"),margin:"normal"}),Te().createElement("br",null),Te().createElement(Ne.TextField,{id:"multiline-flexible",label:"About",multiline:!0,rows:"2",value:o.about,onChange:s("about"),className:r.textField}),Te().createElement("br",null),Te().createElement(Ne.TextField,{id:"email",type:"email",label:"Email",className:r.textField,value:o.email,onChange:s("email"),margin:"normal"}),Te().createElement("br",null),Te().createElement(Ne.TextField,{id:"password",type:"password",label:"Password",className:r.textField,value:o.password,onChange:s("password"),margin:"normal"}),Te().createElement("br",null),o.error&&Te().createElement(Ne.Typography,{component:"p",color:"error"},Te().createElement(Ne.Icon,{color:"error",className:r.error},"error"),o.error)),Te().createElement(Ne.CardActions,null,Te().createElement(Ne.Button,{color:"primary",variant:"contained",onClick:c,className:r.submit},"Submit"))))},go=(0,et.createSvgIcon)(je.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");var bo=function(e,t){return e.location.pathname===t?{color:"#5cdb95"}:{color:"#ffffff"}};const wo=(0,Ce.withRouter)((function(e){var t=e.history;return Te().createElement(Ne.AppBar,{position:"static"},Te().createElement(Ne.Toolbar,null,Te().createElement(Ne.Typography,{variant:"h6",color:"inherit"},"Social Snakes"),Te().createElement(Ce.Link,{to:"/"},Te().createElement(Ne.IconButton,{"aria-label":"Home",style:bo(t,"/")},Te().createElement(go,null))),!Pe()&&Te().createElement("span",null,Te().createElement(Ce.Link,{to:"/signup"},Te().createElement(Ne.Button,{style:bo(t,"/signup")},"Sign Up")),Te().createElement(Ce.Link,{to:"/signin"},Te().createElement(Ne.Button,{style:bo(t,"/signin")},"Sign in"))),Pe()&&Te().createElement("span",null,Te().createElement(Ce.Link,{to:"/user/".concat(Pe().user.id)},Te().createElement(Ne.Button,{style:bo(t,"/user/".concat(Pe().user.id))},"My Profile")),Te().createElement(Ne.Button,{color:"inherit",onClick:function(){return Ie((function(){return t.push("/")}))}},"Sign Out"))))}));var xo=(0,Ne.makeStyles)((function(e){return{typography:{fontSize:"".concat(e.spacing(5),"px"),color:"white",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}})),Eo=function(){var e=xo();return Te().createElement("div",null,Te().createElement(Ne.Typography,{className:e.typography},"404 - Fellow snake, this page does not exist"))};const Oo=function(){return Te().createElement("div",null,Te().createElement(wo,null),Te().createElement(Ce.Switch,null,Te().createElement(Ce.Route,{path:"/",exact:!0},Te().createElement(fn,null)),Te().createElement(Ce.Route,{path:"/signin",component:Nn}),Te().createElement(Ce.Route,{path:"/signup"},Te().createElement(jn,null)),Te().createElement(Ce.Route,{path:"/users"},Te().createElement(bn,null)),Te().createElement(Be,{path:"/user/edit/:userId",component:vo}),Te().createElement(Ce.Route,{path:"/user/:userId"},Te().createElement(co,null)),Te().createElement(Ce.Route,null,Te().createElement(Eo,null))))},ko=(0,dn.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{light:"#2e90f1",main:"#1262b3",dark:"#05386b",contrastText:"#fff"},secondary:{light:"#edf5e1",main:"#8ee4af",dark:"#5cdb95",contrastText:"#000"},openTitle:"white",protectedTitle:"white",type:"dark"}});var So=i()();g().connect("mongodb+srv://snake:3xWGYjd730dWBr7D@cluster0.xinfe.mongodb.net/myFirstDatabase?retryWrites=true&w=majority",{useNewUrlParser:!0,useUnifiedTopology:!0,useFindAndModify:!1,useCreateIndex:!0}).then((function(){return console.log("connected to mongodb")})).catch((function(e){console.log("error connecting to mongodb. error: ".concat(e.message))})),So.use(f()()),So.use(m()()),So.get(/\.(js|css|map|ico|jpg|jpeg)$/,i().static("./build")),So.use(i().json()),So.use(s()()),So.use(l()()),So.use("/api",ne),So.use("/auth",ae),So.use("/api",Oe),So.get("*",(function(e,t){var r=new Ne.ServerStyleSheets,n={},o=Ae().renderToString(r.collect(Te().createElement(Ce.StaticRouter,{location:e.url,context:n},Te().createElement(Ne.ThemeProvider,{theme:ko},Te().createElement(Oo,null)))));if(n.url)return t.redirect(303,n.url);var a=r.toString(),i=P().readFileSync(Se().resolve(__dirname,"../build/index.html"),{encoding:"utf-8"});i=(i=i.replace('<div id="root"></div>','<div id="root">'.concat(o,"</div>"))).replace('<style id="jss-server-side"></style>','<style id="jss-server-side">'.concat(a,"</style>")),t.send(i)})),So.use((function(e,t){t.status(404).json({error:"unknown endpoint"})})),So.use((function(e,t,r,n){return console.log(e.message),"ValidationError"===e.name?r.status(400).json({error:e.message}):"UnauthorizedError"===e.name?r.status(401).json({error:e.message}):void n(e)}));const jo=So;var To=o().createServer(jo),Ro=process.env.PORT||4e3;To.listen(Ro,(function(){console.log("server running on port ".concat(Ro))}))},949:e=>{"use strict";e.exports=require("@babel/polyfill")},357:e=>{"use strict";e.exports=require("assert")},682:e=>{"use strict";e.exports=require("debug")},605:e=>{"use strict";e.exports=require("http")},211:e=>{"use strict";e.exports=require("https")},297:e=>{"use strict";e.exports=require("react")},413:e=>{"use strict";e.exports=require("stream")},835:e=>{"use strict";e.exports=require("url")},761:e=>{"use strict";e.exports=require("zlib")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="",r(949);var n=r(146);module.exports=n})();